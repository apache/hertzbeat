category: component
app: nacos
name:
  zh-CN: Nacos
  en-US: Nacos
# 参数映射map. type是参数类型: 0-number数字, 1-string明文字符串, 2-secret加密字符串
# 强制固定必须参数 - k8sHost
configmap:
  - key: nacosHost
    type: 1
  - key: nacosPort
    type: 1
metrics:
  - name: cpu
    priority: 0
    fields:
      - field: system-cpu-usage
        type: 0
    aliasFields:
      - value
    calculates:
      - system-cpu-usage=value
    protocol: http
    http:
      # 主机host: ipv4 ipv6 域名
      host: ^_^nacosHost^_^
      # 端口
      port: ^_^nacosPort^_^
      # url请求接口路径
      url: /nacos/actuator/metrics/system.cpu.usage
      # 请求方式 GET POST PUT DELETE PATCH
      method: GET
      # 响应数据解析方式: default-系统规则,jsonPath-jsonPath脚本,website-api可用性指标监控
      parseType: jsonPath
      parseScript: $.measurements[*]
  - name: memory
    priority: 0
    fields:
      - field: jvm-memory-used
        type: 1
    aliasFields:
      - value
    calculates:
      - jvm-memory-used=value
    protocol: http
    http:
      # 主机host: ipv4 ipv6 域名
      host: ^_^nacosHost^_^
      # 端口
      port: ^_^nacosPort^_^
      # url请求接口路径
      url: /nacos/actuator/metrics/jvm.memory.used
      # 请求方式 GET POST PUT DELETE PATCH
      method: GET
      # 响应数据解析方式: default-系统规则,jsonPath-jsonPath脚本,website-api可用性指标监控
      parseType: jsonPath
      parseScript: $.measurements[*]