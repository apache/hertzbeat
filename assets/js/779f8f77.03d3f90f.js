"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[9e3],{31875:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"help/linux_script","title":"Monitoring\uff1aUsing Scripts to Monitor Linux Operating System","description":"Preparation","source":"@site/docs/help/linux_script.md","sourceDirName":"help","slug":"/help/linux_script","permalink":"/docs/next/help/linux_script","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/docs/help/linux_script.md","tags":[],"version":"current","frontMatter":{"id":"linux_script","title":"Monitoring\uff1aUsing Scripts to Monitor Linux Operating System","sidebar_label":"Using Scripts to Monitor Linux OS","keywords":["open source monitoring system","open source network monitoring","using scripts to monitor Linux OS"]},"sidebar":"docs","previous":{"title":"Fedora OS Operating System","permalink":"/docs/next/help/fedora"},"next":{"title":"Using Scripts to Monitor Windows OS","permalink":"/docs/next/help/windows_script"}}');var s=r(86070),n=r(45906);const d={id:"linux_script",title:"Monitoring\uff1aUsing Scripts to Monitor Linux Operating System",sidebar_label:"Using Scripts to Monitor Linux OS",keywords:["open source monitoring system","open source network monitoring","using scripts to monitor Linux OS"]},c=void 0,l={},h=[{value:"Preparation",id:"preparation",level:3},{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"Metrics Collection",id:"metrics-collection",level:3},{value:"Metric Set: basic",id:"metric-set-basic",level:4},{value:"Metric Set: cpu",id:"metric-set-cpu",level:4},{value:"Metric Set: memory",id:"metric-set-memory",level:4},{value:"Metric Set: disk",id:"metric-set-disk",level:4},{value:"Metric Set: interface",id:"metric-set-interface",level:4},{value:"Metric Set: disk_free",id:"metric-set-disk_free",level:4},{value:"Metric Set: Top 10 Programs by CPU Usage",id:"metric-set-top-10-programs-by-cpu-usage",level:4},{value:"Metric Set: Top 10 Programs by Memory Usage",id:"metric-set-top-10-programs-by-memory-usage",level:4}];function o(e){const t={a:"a",blockquote:"blockquote",h3:"h3",h4:"h4",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h3,{id:"preparation",children:"Preparation"}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:["To monitor the local machine, simply deploy Hertzbeat. To monitor other hosts, you need to deploy a collector on the target host. Refer to ",(0,s.jsx)(t.a,{href:"https://github.com/apache/hertzbeat?tab=readme-ov-file#2install-via-package",children:"this link"})," for step 5 of the installation process.\nIf the collector is installed using Docker, it will cause the collector to be unable to monitor the process information on the host machine, because Docker containers run in an isolated environment, with each container having its own process space.\nWhen creating a monitoring task and selecting a collector, choose the corresponding collector deployed on the target host."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Monitor Host"}),(0,s.jsx)(t.td,{children:"The IPv4, IPv6, or domain of the monitored endpoint. Note \u26a0\ufe0f Do not include protocol headers (e.g., https://, http://)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Task Name"}),(0,s.jsx)(t.td,{children:"The name identifying this monitoring task, which needs to be unique."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Collector"}),(0,s.jsx)(t.td,{children:"Specifies which collector will be used for data collection in this monitoring task."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Monitoring Interval"}),(0,s.jsx)(t.td,{children:"The time interval for periodic data collection, in seconds."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Binding Tag"}),(0,s.jsx)(t.td,{children:"Classification management tags for monitoring resources."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Description Notes"}),(0,s.jsx)(t.td,{children:"Additional notes to describe this monitoring task. Users can add remarks here."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"metrics-collection",children:"Metrics Collection"}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-basic",children:"Metric Set: basic"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"hostname"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Name of the host"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"version"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Operating system version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"uptime"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"System uptime"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-cpu",children:"Metric Set: cpu"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"info"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"CPU model"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cores"}),(0,s.jsx)(t.td,{children:"Number"}),(0,s.jsx)(t.td,{children:"Number of CPU cores"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"interrupt"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Number of CPU interrupts"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"load"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Average CPU load over the last 1/5/15 minutes"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"context_switch"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Current number of context switches"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"usage"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"CPU usage percentage"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-memory",children:"Metric Set: memory"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"total"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Total memory capacity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"used"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Memory used by user programs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"free"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Free memory capacity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"buff_cache"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Memory used by cache"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"available"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Available memory capacity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"usage"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"Memory usage percentage"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-disk",children:"Metric Set: disk"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"disk_num"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Total number of disks"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"partition_num"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Total number of partitions"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"block_write"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Total number of blocks written to disk"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"block_read"}),(0,s.jsx)(t.td,{children:"Count"}),(0,s.jsx)(t.td,{children:"Total number of blocks read from disk"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"write_rate"}),(0,s.jsx)(t.td,{children:"iops"}),(0,s.jsx)(t.td,{children:"Rate of blocks written to disk per second"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-interface",children:"Metric Set: interface"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"interface_name"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Network interface name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"receive_bytes"}),(0,s.jsx)(t.td,{children:"byte"}),(0,s.jsx)(t.td,{children:"Inbound data traffic (bytes)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"transmit_bytes"}),(0,s.jsx)(t.td,{children:"byte"}),(0,s.jsx)(t.td,{children:"Outbound data traffic (bytes)"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-disk_free",children:"Metric Set: disk_free"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"filesystem"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Name of the filesystem"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"used"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Used disk size"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"available"}),(0,s.jsx)(t.td,{children:"Mb"}),(0,s.jsx)(t.td,{children:"Available disk size"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"usage"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"Disk usage percentage"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"mounted"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Mount point directory"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-top-10-programs-by-cpu-usage",children:"Metric Set: Top 10 Programs by CPU Usage"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Process ID"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cpu"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"CPU usage percentage"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ws"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"Memory usage percentage"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"command"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Executed command"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-top-10-programs-by-memory-usage",children:"Metric Set: Top 10 Programs by Memory Usage"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Process ID"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cpu"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"CPU usage percentage"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ws"}),(0,s.jsx)(t.td,{children:"%"}),(0,s.jsx)(t.td,{children:"Memory usage percentage"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"command"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Executed command"})]})]})]})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},45906:(e,t,r)=>{r.d(t,{R:()=>d,x:()=>c});var i=r(30758);const s={},n=i.createContext(s);function d(e){const t=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);