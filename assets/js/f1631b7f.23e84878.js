"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[6471],{56877(e,t,r){r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"help/nebulaGraph","title":"Monitoring NebulaGraph","description":"Collect and monitor the general performance Metrics of nebulaGraph.","source":"@site/docs/help/nebulagraph.md","sourceDirName":"help","slug":"/help/nebulaGraph","permalink":"/docs/next/help/nebulaGraph","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/docs/help/nebulagraph.md","tags":[],"version":"current","frontMatter":{"id":"nebulaGraph","title":"Monitoring NebulaGraph","sidebar_label":"NebulaGraph Database","keywords":["open source monitoring tool","open source NebulaGraph monitoring tool","monitoring NebulaGraph metrics"]},"sidebar":"docs","previous":{"title":"OpenGauss Database","permalink":"/docs/next/help/opengauss"},"next":{"title":"NebulaGraph Cluster","permalink":"/docs/next/help/nebulagraph_cluster"}}');var n=r(86070),i=r(60056);const a={id:"nebulaGraph",title:"Monitoring NebulaGraph",sidebar_label:"NebulaGraph Database",keywords:["open source monitoring tool","open source NebulaGraph monitoring tool","monitoring NebulaGraph metrics"]},o=void 0,c={},d=[{value:"Configuration parameter",id:"configuration-parameter",level:3},{value:"Collection Metrics",id:"collection-metrics",level:3},{value:"Metrics Set\uff1anebulaGraph_stats",id:"metrics-setnebulagraph_stats",level:4},{value:"Metrics Set\uff1arocksdb_stats",id:"metrics-setrocksdb_stats",level:4}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"Collect and monitor the general performance Metrics of nebulaGraph."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Protocol Use\uff1anebulaGraph"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-text",children:"The monitoring has two parts,nebulaGraph_stats and rocksdb_stats.\nnebulaGraph_stats is nebulaGraph's statistics, and rocksdb_stats is rocksdb's statistics.\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"1\u3001Obtain available parameters through the stats and rocksdb stats interfaces."})}),"\n",(0,n.jsx)(t.p,{children:"1.1\u3001 If you only need to get nebulaGraph_stats, you need to ensure that you have access to stats, or you'll get errors."}),"\n",(0,n.jsxs)(t.p,{children:["The default port is 19669 and the access address is ",(0,n.jsx)(t.a,{href:"http://ip:19669/stats",children:"http://ip:19669/stats"})]}),"\n",(0,n.jsx)(t.p,{children:"1.2\u3001If you need to obtain additional parameters for rocksdb stats, you need to ensure that you have access to rocksdb\nstats, otherwise an error will be reported."}),"\n",(0,n.jsx)(t.p,{children:"Once you connect to NebulaGraph for the first time, you must first register your Storage service in order to properly\nquery your data."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.strong,{children:["There is help_doc: ",(0,n.jsx)(t.a,{href:"https://docs.nebula-graph.com.cn/3.4.3/4.deployment-and-installation/connect-to-nebula-graph/",children:"https://docs.nebula-graph.com.cn/3.4.3/4.deployment-and-installation/connect-to-nebula-graph/"})]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"https://docs.nebula-graph.com.cn/3.4.3/2.quick-start/3.quick-start-on-premise/3.1add-storage-hosts/",children:"https://docs.nebula-graph.com.cn/3.4.3/2.quick-start/3.quick-start-on-premise/3.1add-storage-hosts/"})})}),"\n",(0,n.jsxs)(t.p,{children:["The default port is 19779 and the access address is:",(0,n.jsx)(t.a,{href:"http://ip:19779/rocksdb_stats",children:"http://ip:19779/rocksdb_stats"})]}),"\n",(0,n.jsx)(t.h3,{id:"configuration-parameter",children:"Configuration parameter"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter name"}),(0,n.jsx)(t.th,{children:"Parameter help description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitoring Host"}),(0,n.jsx)(t.td,{children:"Monitored IPV4, IPV6 or domain name. Note\u26a0\ufe0fWithout protocol header (eg: https://, http://)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Monitoring name"}),(0,n.jsx)(t.td,{children:"Identify the name of this monitoring. The name needs to be unique"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"graphPort"}),(0,n.jsx)(t.td,{children:"Port of the Graph service provided by Nebula Graph"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"timePeriod"}),(0,n.jsx)(t.td,{children:"The value can be 5 seconds, 60 seconds, 600 seconds, or 3600 seconds, indicating the last 5 seconds, last 1 minute, last 10 minutes, and last 1 hour, respectively."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"storagePort"}),(0,n.jsx)(t.td,{children:"Port of the storage service provided by Nebula Graph"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Timeout"}),(0,n.jsx)(t.td,{children:"Allow collection response time"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Collection interval"}),(0,n.jsx)(t.td,{children:"Interval time of monitor periodic data collection, unit: second, and the minimum interval that can be set is 30 seconds"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Whether to detect"}),(0,n.jsx)(t.td,{children:"Whether to detect and check the availability of monitoring before adding monitoring. Adding and modifying operations will continue only after the detection is successful"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Description remarks"}),(0,n.jsx)(t.td,{children:"For more information about identifying and describing this monitoring, users can note information here"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"collection-metrics",children:"Collection Metrics"}),"\n",(0,n.jsx)(t.h4,{id:"metrics-setnebulagraph_stats",children:"Metrics Set\uff1anebulaGraph_stats"}),"\n",(0,n.jsxs)(t.p,{children:["Too many indicators, related links are as follows\n",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/1.query-performance-metrics/",children:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/1.query-performance-metrics/"})})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Metric name"}),(0,n.jsx)(t.th,{children:"Metric unit"}),(0,n.jsx)(t.th,{children:"Metric help description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"num_queries_hit_memory_watermark_rate"}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"The rate of statements that reached the memory watermark."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"num_queries_hit_memory_watermark_sum"}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"The sum of statements that reached the memory watermark."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"num_reclaimed_expired_sessions_sum"}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"Number of expired sessions actively reclaimed by the server."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"..."}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"..."})]})]})]}),"\n",(0,n.jsx)(t.h4,{id:"metrics-setrocksdb_stats",children:"Metrics Set\uff1arocksdb_stats"}),"\n",(0,n.jsxs)(t.p,{children:["Too many indicators, related links are as follows\n",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/2.rocksdb-statistics/",children:"https://docs.nebula-graph.com.cn/3.4.3/6.monitor-and-metrics/2.rocksdb-statistics/"})})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Metric name"}),(0,n.jsx)(t.th,{children:"Metric unit"}),(0,n.jsx)(t.th,{children:"Metric help description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"rocksdb.backup.read.bytes"}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"Number of bytes read during the RocksDB database backup."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"rocksdb.backup.write.bytes"}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"Number of bytes written during the RocksDB database backup."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"..."}),(0,n.jsx)(t.td,{}),(0,n.jsx)(t.td,{children:"..."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},60056(e,t,r){r.d(t,{R:()=>a,x:()=>o});var s=r(30758);const n={},i=s.createContext(n);function a(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);