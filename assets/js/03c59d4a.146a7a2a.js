"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[55674],{13214:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"help/doris_fe","title":"Monitoring DORIS Database FE Monitoring","description":"Collect and monitor general performance metrics for DORIS database FE. Supports DORIS 2.0.0.","source":"@site/versioned_docs/version-1.8.0/help/doris_fe.md","sourceDirName":"help","slug":"/help/doris_fe","permalink":"/docs/1.8.0/help/doris_fe","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.8.0/help/doris_fe.md","tags":[],"version":"1.8.0","frontMatter":{"id":"doris_fe","title":"Monitoring DORIS Database FE Monitoring","sidebar_label":"DORIS Database FE","keywords":["Open Source Monitoring System","Open Source Database Monitoring","DORIS Database FE Monitoring"]},"sidebar":"docs","previous":{"title":"DORIS Database BE","permalink":"/docs/1.8.0/help/doris_be"},"next":{"title":"StarRocks Database BE","permalink":"/docs/1.8.0/help/starrocks_be"}}');var s=i(86070),n=i(45906);const d={id:"doris_fe",title:"Monitoring DORIS Database FE Monitoring",sidebar_label:"DORIS Database FE",keywords:["Open Source Monitoring System","Open Source Database Monitoring","DORIS Database FE Monitoring"]},c=void 0,l={},o=[{value:"Pre-monitoring operations",id:"pre-monitoring-operations",level:3},{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"Collection Indicators",id:"collection-indicators",level:3},{value:"Metric Set: doris_fe_connection_total",id:"metric-set-doris_fe_connection_total",level:4},{value:"Metric Set: doris_fe_edit_log_clean",id:"metric-set-doris_fe_edit_log_clean",level:4},{value:"Metric Set: doris_fe_edit_log",id:"metric-set-doris_fe_edit_log",level:4},{value:"Metric Set: doris_fe_image_clean",id:"metric-set-doris_fe_image_clean",level:4},{value:"Metric Set: doris_fe_image_write",id:"metric-set-doris_fe_image_write",level:4},{value:"Metric Set: doris_fe_query_err",id:"metric-set-doris_fe_query_err",level:4},{value:"Metric Set: doris_fe_max_journal_id",id:"metric-set-doris_fe_max_journal_id",level:4},{value:"Metric Set: doris_fe_max_tablet_compaction_score",id:"metric-set-doris_fe_max_tablet_compaction_score",level:4},{value:"Metric Set: doris_fe_qps",id:"metric-set-doris_fe_qps",level:4},{value:"Metric Set: doris_fe_query_err_rate",id:"metric-set-doris_fe_query_err_rate",level:4},{value:"Metric Set: doris_fe_report_queue_size",id:"metric-set-doris_fe_report_queue_size",level:4},{value:"Metric Set: doris_fe_rps",id:"metric-set-doris_fe_rps",level:4},{value:"Metric Set: doris_fe_scheduled_tablet_num",id:"metric-set-doris_fe_scheduled_tablet_num",level:4},{value:"Metric Set: doris_fe_txn_status",id:"metric-set-doris_fe_txn_status",level:4}];function h(e){const t={blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"Collect and monitor general performance metrics for DORIS database FE. Supports DORIS 2.0.0."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Protocol: HTTP"})}),"\n",(0,s.jsx)(t.h3,{id:"pre-monitoring-operations",children:"Pre-monitoring operations"}),"\n",(0,s.jsxs)(t.p,{children:["Check the ",(0,s.jsx)(t.code,{children:"fe/conf/fe.conf"})," file to obtain the value of the ",(0,s.jsx)(t.code,{children:"http_port"})," configuration item, which is used for monitoring."]}),"\n",(0,s.jsx)(t.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Parameter Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Monitor Host"}),(0,s.jsx)(t.td,{children:"The monitored target's IPV4, IPV6, or domain name. Note: Without the protocol header (e.g., https://, http://)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Task Name"}),(0,s.jsx)(t.td,{children:"A unique name identifying this monitoring task"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Port"}),(0,s.jsxs)(t.td,{children:["The port provided by the database to the outside, default is 8030 ,get the value of the",(0,s.jsx)(t.code,{children:"http_port"})," configuration item"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Query Timeout"}),(0,s.jsx)(t.td,{children:"The timeout for the connection to not respond, in milliseconds, default is 3000 milliseconds"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Database Name"}),(0,s.jsx)(t.td,{children:"Optional database instance name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Collection Interval"}),(0,s.jsx)(t.td,{children:"The interval between periodic data collections for monitoring, in seconds, with a minimum interval of 30 seconds"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Probe Required"}),(0,s.jsx)(t.td,{children:"Whether to probe and check the availability of monitoring before adding new monitoring, continue with the addition or modification operation only if the probe is successful"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Description"}),(0,s.jsx)(t.td,{children:"Additional notes and descriptions for this monitoring task"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"collection-indicators",children:"Collection Indicators"}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_connection_total",children:"Metric Set: doris_fe_connection_total"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The current number of MySQL port connections on FE"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_edit_log_clean",children:"Metric Set: doris_fe_edit_log_clean"}),"\n",(0,s.jsx)(t.p,{children:"Should not fail; if it does, manual intervention is required."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"success"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of successful cleanups of historical metadata logs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"failed"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of failed cleanups of historical metadata logs"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_edit_log",children:"Metric Set: doris_fe_edit_log"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"write"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The count of metadata log write operations"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"read"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The count of metadata log read operations"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"current"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The current number of metadata logs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"accumulated_bytes"}),(0,s.jsx)(t.td,{children:"Bytes"}),(0,s.jsx)(t.td,{children:"The cumulative value of metadata log writes"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"current_bytes"}),(0,s.jsx)(t.td,{children:"Bytes"}),(0,s.jsx)(t.td,{children:"The current value of metadata logs"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_image_clean",children:"Metric Set: doris_fe_image_clean"}),"\n",(0,s.jsx)(t.p,{children:"Should not fail; if it does, manual intervention is required."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"success"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of successful cleanups of historical metadata image files"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"failed"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of failed cleanups of historical metadata image files"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_image_write",children:"Metric Set: doris_fe_image_write"}),"\n",(0,s.jsx)(t.p,{children:"Should not fail; if it does, manual intervention is required."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"success"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of successful generations of metadata image files"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"failed"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of failed generations of metadata image files"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_query_err",children:"Metric Set: doris_fe_query_err"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The cumulative value of erroneous queries"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_max_journal_id",children:"Metric Set: doris_fe_max_journal_id"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The current maximum metadata log ID on the FE node. If it is a Master FE, it is the maximum ID currently written; if it is a non-Master FE, it represents the maximum metadata log ID currently being replayed. Used to observe if there is a large gap between the IDs of multiple FEs. A large gap indicates issues with metadata synchronization"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_max_tablet_compaction_score",children:"Metric Set: doris_fe_max_tablet_compaction_score"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The largest compaction score value among all BE nodes. This value can observe the current cluster's maximum compaction score to judge if it is too high. If too high, there may be delays in queries or writes"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_qps",children:"Metric Set: doris_fe_qps"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of queries per second on the current FE (only counts query requests)"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_query_err_rate",children:"Metric Set: doris_fe_query_err_rate"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of erroneous queries per second"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_report_queue_size",children:"Metric Set: doris_fe_report_queue_size"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The length of the queue for various regular reporting tasks on the BE side at the FE end. This value reflects the degree of blocking of reporting tasks on the Master FE node. A larger value indicates insufficient processing capacity on the FE"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_rps",children:"Metric Set: doris_fe_rps"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of requests per second on the current FE (includes queries and other types of statements)"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_scheduled_tablet_num",children:"Metric Set: doris_fe_scheduled_tablet_num"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"The number of tablets currently being scheduled by the Master FE node. This includes tablets that are being repaired and tablets that are being balanced. This value can reflect the number of tablets currently migrating in the cluster. If there is a value for a long time, it indicates that the cluster is unstable"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"metric-set-doris_fe_txn_status",children:"Metric Set: doris_fe_txn_status"}),"\n",(0,s.jsx)(t.p,{children:"Can observe the number of import transactions in various states to determine if there is a backlog."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Metric Name"}),(0,s.jsx)(t.th,{children:"Metric Unit"}),(0,s.jsx)(t.th,{children:"Metric help description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"unknown"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Unknown state"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"prepare"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"In preparation"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"committed"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Committed"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"visible"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Visible"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"aborted"}),(0,s.jsx)(t.td,{children:"None"}),(0,s.jsx)(t.td,{children:"Aborted / Revoked"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},45906:(e,t,i)=>{i.d(t,{R:()=>d,x:()=>c});var r=i(30758);const s={},n=r.createContext(s);function d(e){const t=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);