"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[16699],{58456(e,t,r){r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"help/spring_gateway","title":"spring_gateway","description":"Collect and monitor the general performance metrics exposed by the SpringBoot actuator.","source":"@site/versioned_docs/version-1.7.x/help/spring_gateway.md","sourceDirName":"help","slug":"/help/spring_gateway","permalink":"/docs/1.7.x/help/spring_gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.7.x/help/spring_gateway.md","tags":[],"version":"1.7.x","frontMatter":{"id":"spring_gateway","Title":"Monitoring Spring Cloud Gateway","sidebar_label":"Spring Cloud Gateway","keywords":["open source monitoring tool","open source Spring Cloud Gateway monitoring tool","monitoring Spring Cloud Gateway metrics"]},"sidebar":"docs","previous":{"title":"Apache ShenYu","permalink":"/docs/1.7.x/help/shenyu"},"next":{"title":"Zookeeper Monitor","permalink":"/docs/1.7.x/help/zookeeper"}}');var i=r(86070),s=r(60056);const d={id:"spring_gateway",Title:"Monitoring Spring Cloud Gateway",sidebar_label:"Spring Cloud Gateway",keywords:["open source monitoring tool","open source Spring Cloud Gateway monitoring tool","monitoring Spring Cloud Gateway metrics"]},o=void 0,c={},l=[{value:"Pre-monitoring operations",id:"pre-monitoring-operations",level:2},{value:"Configure parameters",id:"configure-parameters",level:3},{value:"Collect metrics",id:"collect-metrics",level:3},{value:"metric Collection: Health",id:"metric-collection-health",level:4},{value:"metric Collection: enviroment",id:"metric-collection-enviroment",level:4},{value:"metric Collection: threads",id:"metric-collection-threads",level:4},{value:"metric Collection: memory_used",id:"metric-collection-memory_used",level:4},{value:"metric Collection: route_info",id:"metric-collection-route_info",level:4}];function h(e){const t={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Collect and monitor the general performance metrics exposed by the SpringBoot actuator."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"pre-monitoring-operations",children:"Pre-monitoring operations"}),"\n",(0,i.jsxs)(t.p,{children:["If you want to monitor information in ",(0,i.jsx)(t.code,{children:"Spring Cloud Gateway"})," with this monitoring type, you need to integrate your ",(0,i.jsx)(t.code,{children:"Spring Cloud Gateway"})," application and enable the SpringBoot Actuator."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"1\u3001Add POM .XML dependencies:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"2. Modify the YML configuration exposure metric interface:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:'management:\n  endpoint:\n    gateway:\n      enabled: true\n    env:\n      show-values: ALWAYS\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n'})}),"\n",(0,i.jsx)(t.h3,{id:"configure-parameters",children:"Configure parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter name"}),(0,i.jsx)(t.th,{children:"Parameter Help describes the"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitor Host"}),(0,i.jsx)(t.td,{children:"THE MONITORED PEER IPV4, IPV6 OR DOMAIN NAME. Note \u26a0\ufe0f that there are no protocol headers (eg: https://, http://)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitoring Name"}),(0,i.jsx)(t.td,{children:"A name that identifies this monitoring that needs to be unique."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Port"}),(0,i.jsx)(t.td,{children:"The default port provided by the database is 8080."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Enable HTTPS"}),(0,i.jsx)(t.td,{children:"Whether to access the website through HTTPS, please note that \u26a0\ufe0f when HTTPS is enabled, the default port needs to be changed to 443"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"The acquisition interval is"}),(0,i.jsx)(t.td,{children:"Monitor the periodic data acquisition interval, in seconds, and the minimum interval that can be set is 30 seconds"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Whether to probe the"}),(0,i.jsx)(t.td,{children:"Whether to check the availability of the monitoring before adding a monitoring is successful, and the new modification operation will continue only if the probe is successful"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Description Comment"}),(0,i.jsx)(t.td,{children:"For more information identifying and describing the remarks for this monitoring, users can remark the information here"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"collect-metrics",children:"Collect metrics"}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-health",children:"metric Collection: Health"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"status"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Service health: UP, Down"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-enviroment",children:"metric Collection: enviroment"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"profile"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"The application runs profile: prod, dev, test"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"port"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Apply the exposed port"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os_arch"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system architecture"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jdk_vendor"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jdk vendor"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jvm_version"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jvm version"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-threads",children:"metric Collection: threads"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"state"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Thread status"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"number"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This thread state corresponds to number of threads"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-memory_used",children:"metric Collection: memory_used"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"space"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Memory space name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"mem_used"}),(0,i.jsx)(t.td,{children:"MB"}),(0,i.jsx)(t.td,{children:"This space occupies a memory size of"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-route_info",children:"metric Collection: route_info"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"route_id"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Route id"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"predicate"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This is a routing matching rule"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"uri"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This is a service resource identifier"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"order"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"The priority of this route"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},60056(e,t,r){r.d(t,{R:()=>d,x:()=>o});var n=r(30758);const i={},s=n.createContext(i);function d(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);