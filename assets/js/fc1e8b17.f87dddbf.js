"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[26562],{37105:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"help/springboot3","title":"springboot3","description":"Collect and monitor the general performance metrics exposed by the SpringBoot 3.0 actuator.","source":"@site/versioned_docs/version-1.7.x/help/springboot3.md","sourceDirName":"help","slug":"/help/springboot3","permalink":"/docs/help/springboot3","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.7.x/help/springboot3.md","tags":[],"version":"1.7.x","frontMatter":{"id":"springboot3","Title":"Monitoring SpringBoot 3.0","sidebar_label":"SpringBoot 3.0","keywords":["open source monitoring tool","open source monitoring tool","monitoring springboot3 metrics"]},"sidebar":"docs","previous":{"title":"SpringBoot 2.0","permalink":"/docs/help/springboot2"},"next":{"title":"DynamicTp Monitor","permalink":"/docs/help/dynamic_tp"}}');var i=r(86070),s=r(45906);const o={id:"springboot3",Title:"Monitoring SpringBoot 3.0",sidebar_label:"SpringBoot 3.0",keywords:["open source monitoring tool","open source monitoring tool","monitoring springboot3 metrics"]},c=void 0,d={},l=[{value:"Pre-monitoring operations",id:"pre-monitoring-operations",level:2},{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"Collection Metrics",id:"collection-metrics",level:3},{value:"Metric Set: Availability",id:"metric-set-availability",level:4},{value:"Metric Set: Threads",id:"metric-set-threads",level:4},{value:"Metric Set: Memory Usage",id:"metric-set-memory-usage",level:4},{value:"Metric Set: Health Status",id:"metric-set-health-status",level:4}];function a(e){const t={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Collect and monitor the general performance metrics exposed by the SpringBoot 3.0 actuator."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"pre-monitoring-operations",children:"Pre-monitoring operations"}),"\n",(0,i.jsx)(t.p,{children:"If you want to monitor information in 'SpringBoot' with this monitoring type, you need to integrate your SpringBoot application and enable the SpringBoot Actuator."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"1\u3001Add POM .XML dependencies:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"2. Modify the YML configuration exposure metric interface:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"management:\n  endpoints:\n    web:\n      exposure:\n        include: '*'\n    enabled-by-default: true\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Note: If your project also introduces authentication related dependencies, such as springboot security, the interfaces exposed by SpringBoot Actor may be intercepted. In this case, you need to manually release these interfaces. Taking springboot security as an example, you should add the following code to the Security Configuration class:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:'public class SecurityConfig extends WebSecurityConfigurerAdapter{\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity\n                // Configure the interfaces to be released -----------------------------------\n                .antMatchers("/actuator/**").permitAll()\n                .antMatchers("/metrics/**").permitAll()\n                .antMatchers("/trace").permitAll()\n                .antMatchers("/heapdump").permitAll()\n                // ...\n                // For other interfaces, please refer to: https://blog.csdn.net/JHIII/article/details/126601858 -----------------------------------\n    }\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter Name"}),(0,i.jsx)(t.th,{children:"Parameter Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitor Host"}),(0,i.jsx)(t.td,{children:"The monitored peer's IPV4, IPV6, or domain name. Note\u26a0\ufe0f: Do not include protocol headers (eg: https://, http://)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Task Name"}),(0,i.jsx)(t.td,{children:"Identifies the name of this monitor, ensuring uniqueness is necessary."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Port"}),(0,i.jsx)(t.td,{children:"The port provided by the application service, default is 8080."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Enable SSL"}),(0,i.jsx)(t.td,{children:"Whether to access the website via HTTPS. Note\u26a0\ufe0f: Enabling HTTPS generally requires changing the default port to 443."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Collector"}),(0,i.jsx)(t.td,{children:"Specifies which collector to use for scheduling data collection for this monitor."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitoring Period"}),(0,i.jsx)(t.td,{children:"Interval for periodically collecting data, in seconds, with a minimum interval of 30 seconds."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Bind Tags"}),(0,i.jsx)(t.td,{children:"Tags for categorizing and managing monitored resources."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Description"}),(0,i.jsx)(t.td,{children:"Additional identification and description for this monitor, where users can add remarks."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"collection-metrics",children:"Collection Metrics"}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-availability",children:"Metric Set: Availability"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Unit"}),(0,i.jsx)(t.th,{children:"Metric Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"responseTime"}),(0,i.jsx)(t.td,{children:"ms"}),(0,i.jsx)(t.td,{children:"Response time"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-threads",children:"Metric Set: Threads"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Unit"}),(0,i.jsx)(t.th,{children:"Metric Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"state"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Thread state"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"size"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Number of threads for this state"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-memory-usage",children:"Metric Set: Memory Usage"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Unit"}),(0,i.jsx)(t.th,{children:"Metric Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"space"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Memory space name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"mem_used"}),(0,i.jsx)(t.td,{children:"MB"}),(0,i.jsx)(t.td,{children:"Memory usage for this space"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-health-status",children:"Metric Set: Health Status"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Unit"}),(0,i.jsx)(t.th,{children:"Metric Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"status"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Service health status: UP, Down"})]})})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},45906:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>c});var n=r(30758);const i={},s=n.createContext(i);function o(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);