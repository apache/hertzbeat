"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[50522],{45906:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(30758);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},79567:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"help/ai_agent","title":"HertzBeat AI Agent User Guide","description":"HertzBeat AI Agent is an intelligent monitoring AI Agent that helps you manage monitors, configure alerts, and optimize your infrastructure monitoring through natural language conversation.","source":"@site/versioned_docs/version-1.8.0/help/ai_agent.md","sourceDirName":"help","slug":"/help/ai_agent","permalink":"/docs/1.8.0/help/ai_agent","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.8.0/help/ai_agent.md","tags":[],"version":"1.8.0","frontMatter":{"id":"ai_agent","title":"HertzBeat AI Agent User Guide","sidebar_label":"HertzBeat AI","keywords":["AI","Chat","Agent","Monitoring","AI Agent","OpenAI"]},"sidebar":"docs","previous":{"title":"Security Model","permalink":"/docs/1.8.0/help/security_model"},"next":{"title":"MCP Server","permalink":"/docs/1.8.0/help/mcp_server"}}');var s=i(86070),r=i(45906);const a={id:"ai_agent",title:"HertzBeat AI Agent User Guide",sidebar_label:"HertzBeat AI",keywords:["AI","Chat","Agent","Monitoring","AI Agent","OpenAI"]},o=void 0,l={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configuration",id:"configuration",level:2},{value:"OpenAI API Key Setup",id:"openai-api-key-setup",level:3},{value:"Database Configuration via UI",id:"database-configuration-via-ui",level:4},{value:"Configuration Priority",id:"configuration-priority",level:3},{value:"Using the AI Agent",id:"using-the-ai-agent",level:2},{value:"Accessing the Chat Interface",id:"accessing-the-chat-interface",level:3},{value:"Sample Conversations",id:"sample-conversations",level:3},{value:"Adding a New Monitor",id:"adding-a-new-monitor",level:4},{value:"Listing Existing Monitors",id:"listing-existing-monitors",level:4},{value:"Getting Monitor Type Information",id:"getting-monitor-type-information",level:4},{value:"Alert Management",id:"alert-management",level:4},{value:"Metrics Analysis",id:"metrics-analysis",level:4},{value:"Alert Rule Configuration",id:"alert-rule-configuration",level:4},{value:"Best Practices",id:"best-practices",level:2},{value:"Effective Chat Usage",id:"effective-chat-usage",level:3},{value:"Monitor Management",id:"monitor-management",level:3},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Bulk Operations",id:"bulk-operations",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Support",id:"support",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"HertzBeat AI Agent is an intelligent monitoring AI Agent that helps you manage monitors, configure alerts, and optimize your infrastructure monitoring through natural language conversation."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The HertzBeat AI Agent feature provides an interactive chat interface where you can:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Monitor Management:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud83d\udd0d Query and filter existing monitors by status, type, host, and labels"}),"\n",(0,s.jsx)(n.li,{children:"\u2795 Add new monitors for websites, APIs, databases, and services"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcca Get detailed information about available monitor types and their parameters"}),"\n",(0,s.jsx)(n.li,{children:"\u26a1 Check monitor status and troubleshoot monitoring issues"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Alert Management:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud83d\udea8 Query active alerts with comprehensive filtering (type, status, search)"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcc8 Get alert summary statistics and distribution"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udd14 View both single and grouped alerts"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udccb Analyze alert patterns and trends"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Metrics Analysis:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud83d\udcca Retrieve real-time metrics data for any monitor"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcc8 Access historical metrics with customizable time ranges"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcbe Check warehouse storage system status"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udd0d Query specific metric fields and labels"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Alert Rule Management:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2699\ufe0f Configure alert rules and thresholds"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcdd Manage alert definitions for different monitor types"}),"\n",(0,s.jsx)(n.li,{children:"\ud83c\udfaf Set up custom alerting criteria"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before using the AI Agent, ensure:"}),"\n",(0,s.jsxs)(n.p,{children:["1 ",(0,s.jsx)(n.strong,{children:"OpenAI Configuration"}),": Valid OpenAI API key must be configured. Optionally, you can change the model in ",(0,s.jsx)(n.code,{children:"application.yml"})," under ",(0,s.jsx)(n.code,{children:"spring.ai.openai.chat.options.model"})," (default is ",(0,s.jsx)(n.code,{children:"gpt-4.1-nano"}),").\n2 ",(0,s.jsx)(n.strong,{children:"Database Connection"}),": HertzBeat database must be accessible for monitor operations"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"openai-api-key-setup",children:"OpenAI API Key Setup"}),"\n",(0,s.jsx)(n.p,{children:"The AI Agent uses OpenAI's GPT models. You need to configure an OpenAI API key in this ways:"}),"\n",(0,s.jsx)(n.h4,{id:"database-configuration-via-ui",children:"Database Configuration via UI"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to the AI Agent interface"}),"\n",(0,s.jsx)(n.li,{children:"If no API key is configured, you'll see a configuration dialog"}),"\n",(0,s.jsx)(n.li,{children:"Enter your OpenAI API key"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save Configuration"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-priority",children:"Configuration Priority"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database configuration"})," takes priority over YAML configuration"]}),"\n",(0,s.jsx)(n.li,{children:"Configuration changes are applied immediately without restart"}),"\n",(0,s.jsx)(n.li,{children:"Invalid API keys are automatically validated before saving"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"using-the-ai-agent",children:"Using the AI Agent"}),"\n",(0,s.jsx)(n.h3,{id:"accessing-the-chat-interface",children:"Accessing the Chat Interface"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to the ",(0,s.jsx)(n.strong,{children:"AI Agent"})," section in HertzBeat web interface"]}),"\n",(0,s.jsx)(n.li,{children:"You'll see the HertzBeat Monitoring AI Agent welcome screen"}),"\n",(0,s.jsx)(n.li,{children:"Start typing your questions in the chat input field"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sample-conversations",children:"Sample Conversations"}),"\n",(0,s.jsx)(n.h4,{id:"adding-a-new-monitor",children:"Adding a New Monitor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: Add a new HTTP monitor for my website https://example.com\nAI Agent: I'll help you add an HTTP monitor for https://example.com. \nLet me create that monitor with the following configuration:\n- Name: example.com Website Monitor\n- Type: HTTP\n- Host: example.com\n- Port: 443 (HTTPS)\n- Path: /\n- Interval: 60 seconds\n\nMonitor created successfully with ID: 12345\n"})}),"\n",(0,s.jsx)(n.h4,{id:"listing-existing-monitors",children:"Listing Existing Monitors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: Show me all my current monitors\nAI Agent: Here are your current monitors:\n\n1. **Linux Server** (ID: 1001)\n   - Status: \u2705 Online\n   - Host: 192.168.1.100\n   - Last Check: 2 minutes ago\n\n2. **MySQL Database** (ID: 1002) \n   - Status: \u26a0\ufe0f Warning\n   - Host: db.example.com\n   - Last Check: 30 seconds ago\n\n3. **Website Monitor** (ID: 1003)\n   - Status: \u2705 Online\n   - Host: https://example.com\n   - Last Check: 1 minute ago\n\nWould you like details on any specific monitor?\n"})}),"\n",(0,s.jsx)(n.h4,{id:"getting-monitor-type-information",children:"Getting Monitor Type Information"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: What parameters do I need to monitor a PostgreSQL database?\nAI Agent: To monitor a PostgreSQL database, you'll need these parameters:\n\n**Required Parameters:**\n- **Host**: Database server IP/hostname\n- **Port**: PostgreSQL port (default: 5432)\n- **Database**: Database name to connect to\n- **Username**: Database username\n- **Password**: Database password\n\n**Optional Parameters:**\n- **Timeout**: Connection timeout (default: 6000ms)\n- **Query Timeout**: SQL query timeout (default: 3000ms)\n- **SSL**: Enable SSL connection (default: false)\n\nWould you like me to help you add a PostgreSQL monitor?\n"})}),"\n",(0,s.jsx)(n.h4,{id:"alert-management",children:"Alert Management"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: Show me all critical alerts from the last 24 hours\nAI Agent: Here are the critical alerts from the last 24 hours:\n\n\ud83d\udea8 **Active Alerts (3 firing)**\n1. **High CPU Usage** - Linux Server (ID: 1001)\n   - Status: \ud83d\udd25 Firing\n   - Triggered: 2 hours ago\n   - Severity: Critical\n   - Message: CPU usage 95% > threshold 90%\n\n2. **Database Connection Failed** - MySQL Database (ID: 1002)\n   - Status: \ud83d\udd25 Firing  \n   - Triggered: 45 minutes ago\n   - Severity: Critical\n   - Message: Connection timeout after 10 seconds\n\n3. **Website Response Time** - Website Monitor (ID: 1003)\n   - Status: \u26a0\ufe0f Warning\n   - Triggered: 15 minutes ago\n   - Severity: Warning\n   - Message: Response time 5.2s > threshold 3s\n\n**Alert Summary:**\n- Total alerts: 12\n- Firing: 3 (2 critical, 1 warning)\n- Resolved: 9\n\nWould you like me to help you investigate any specific alert?\n"})}),"\n",(0,s.jsx)(n.h4,{id:"metrics-analysis",children:"Metrics Analysis"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: Show me the CPU usage for my Linux server over the last 6 hours\nAI Agent: Here's the CPU usage data for your Linux server (Monitor ID: 1001) over the last 6 hours:\n\n\ud83d\udcca **CPU Usage Metrics - Last 6 Hours**\n"})}),"\n",(0,s.jsx)(n.p,{children:"Time          | Usage (%) | Load Avg | Processes\n14:00-15:00   | 45.2%     | 1.2      | 156\n15:00-16:00   | 67.8%     | 2.1      | 178\n16:00-17:00   | 89.4%     | 3.8      | 195\n17:00-18:00   | 92.1%     | 4.2      | 203\n18:00-19:00   | 94.7%     | 4.8      | 210\n19:00-20:00   | 88.3%     | 3.5      | 188"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"\n**Analysis:**\n- Peak usage: 94.7% at 19:00\n- Average usage: 79.6%\n- Trend: High usage sustained for 3+ hours\n- Current status: Decreasing (88.3%)\n\n**Real-time metrics:**\n- Current CPU: 76.2%\n- Memory usage: 82.1%\n- Disk I/O: Normal\n\nWould you like me to check historical data for comparison or investigate the high usage cause?\n"})}),"\n",(0,s.jsx)(n.h4,{id:"alert-rule-configuration",children:"Alert Rule Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:'You: Set up an alert rule for when my website response time exceeds 5 seconds\nAI Agent: I\'ll help you create an alert rule for website response time monitoring.\n\n**Alert Rule Configuration:**\n- **Monitor Type**: HTTP/Website\n- **Metric**: Response Time\n- **Condition**: Greater than 5 seconds\n- **Severity**: Warning\n- **Evaluation**: Check every 60 seconds\n- **Notification**: Email + Dashboard\n\n**Proposed Rule:**\n```yaml\nname: "Website Response Time Alert"\ncondition: "response_time > 5000ms"\nseverity: "warning"\ndescription: "Alert when website response time exceeds 5 seconds"\nevaluation_interval: 60s\nfor: 2m  # Alert after condition persists for 2 minutes\n'})}),"\n",(0,s.jsx)(n.p,{children:"This rule will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Monitor response time every minute"}),"\n",(0,s.jsx)(n.li,{children:"Trigger alert if response time > 5s for 2+ minutes"}),"\n",(0,s.jsx)(n.li,{children:"Send notifications via configured channels"}),"\n",(0,s.jsx)(n.li,{children:"Show in dashboard with warning status"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Would you like me to apply this configuration or modify any settings?"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:'\n### Chat Features\n\n#### Message History\n\n- All conversations are automatically saved\n- Access previous conversations from the sidebar\n- Search through conversation history\n- Export conversation logs\n\n#### Real-time Responses\n\n- Streaming responses for immediate feedback\n- Typing indicators show when the assistant is processing\n- Cancel ongoing requests if needed\n\n#### Conversation Management\n\n- Create new conversations for different topics\n- Rename conversations for better organization\n- Delete old conversations to keep things clean\nNote: Conversations are not saved in the database\n\n## Troubleshooting\n\n### Common Issues\n\n#### Chat Interface Not Loading\n\n**Symptoms**: Chat interface shows loading spinner indefinitely\n**Solutions**:\n\n1. Check browser console for JavaScript errors\n2. Ensure network connectivity to HertzBeat server\n\n#### "Service Unavailable" Message\n\n**Symptoms**: Chat shows "HertzBeat AI monitoring service unavailable"\n**Solutions**:\n1.Verify OpenAI API key configuration\n2.Check application logs for errors\n3.Ensure database connectivity\n\n#### Invalid API Key Error\n\n**Symptoms**: Configuration dialog shows "Invalid API key" error\n**Solutions**:\n\n1. Verify your OpenAI API key starts with `sk-`\n2. Check API key has sufficient credits/quota\n3. Test API key directly with OpenAI API\n4. Ensure no extra spaces in the API key\n\n#### Monitor Creation Failures  \n\n**Symptoms**: AI suggests monitor configuration but creation fails\n**Solutions**:\n\n1. Verify you have permissions to create monitors\n2. Check if monitor with same name already exists\n3. Ensure target host/service is accessible\n4. Review monitor parameter validation errors\n\n### Debug Mode\n\nEnable debug logging by setting log level to DEBUG for:\n\n```yaml\nlogging:\n  level:\n    org.apache.hertzbeat.ai.agent: DEBUG\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"effective-chat-usage",children:"Effective Chat Usage"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Be Specific"}),': "Add HTTP monitor for api.example.com port 8080" vs "add a monitor"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Provide Context"}),": Mention if you want production vs test monitors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ask Follow-ups"}),": Request configuration details if needed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Natural Language"}),": The AI understands conversational requests"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"monitor-management",children:"Monitor Management"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Naming Convention"}),": Use descriptive monitor names"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documentation"}),": Ask the AI to document complex configurations"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Key Security"}),": Store OpenAI API keys securely"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Access Control"}),": Limit AI chat access to authorized users"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Privacy"}),": Be mindful of sensitive information in chat logs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Network Security"}),": Ensure secure connections to OpenAI API"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,s.jsx)(n.h3,{id:"bulk-operations",children:"Bulk Operations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"You: Add HTTP monitors for all services in my staging environment:\n- api-staging.example.com:8080\n- web-staging.example.com:80  \n- admin-staging.example.com:3000\n"})}),"\n",(0,s.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Requires active internet connection for OpenAI API"}),"\n",(0,s.jsx)(n.li,{children:"OpenAI API usage incurs costs based on token consumption"}),"\n",(0,s.jsx)(n.li,{children:"Complex multi-step operations may require multiple interactions"}),"\n",(0,s.jsx)(n.li,{children:"Some advanced configurations may need manual setup"}),"\n",(0,s.jsx)(n.li,{children:"Rate limiting may apply based on OpenAI plan"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,s.jsx)(n.p,{children:"For issues with AI Agent:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check this documentation first"}),"\n",(0,s.jsx)(n.li,{children:"Review application logs for errors"}),"\n",(0,s.jsx)(n.li,{children:"Test OpenAI API connectivity independently"}),"\n",(0,s.jsx)(n.li,{children:"Contact HertzBeat support with specific error messages"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);