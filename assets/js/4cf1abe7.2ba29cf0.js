"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[59286],{58860(e,t,r){r.d(t,{xA:()=>g,yg:()=>u});var a=r(37953);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},g=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef(function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),p=c(r),u=n,y=p["".concat(s,".").concat(u)]||p[u]||m[u]||i;return r?a.createElement(y,o(o({ref:t},g),{},{components:r})):a.createElement(y,o({ref:t},g))});function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},92532(e,t,r){r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=r(44320),n=(r(37953),r(58860));const i={id:"eureka_sd",title:"Monitoring Eureka Service Discovery",sidebar_label:"Eureka Service Discovery",keywords:["open source monitoring tool","open source service discovery monitoring tool","monitoring Eureka service discovery"]},o=void 0,l={unversionedId:"help/eureka_sd",id:"help/eureka_sd",title:"Monitoring Eureka Service Discovery",description:"HertzBeat integrates with Eureka registry to automatically discover service instances and create monitoring tasks for them.",source:"@site/docs/help/eureka_sd.md",sourceDirName:"help",slug:"/help/eureka_sd",permalink:"/docs/help/eureka_sd",draft:!1,editUrl:"https://github.com/apache/hertzbeat/edit/master/home/docs/help/eureka_sd.md",tags:[],version:"current",frontMatter:{id:"eureka_sd",title:"Monitoring Eureka Service Discovery",sidebar_label:"Eureka Service Discovery",keywords:["open source monitoring tool","open source service discovery monitoring tool","monitoring Eureka service discovery"]},sidebar:"docs",previous:{title:"Notification Template",permalink:"/docs/help/alert_notification_template"},next:{title:"Nacos Service Discovery",permalink:"/docs/help/nacos_sd"}},s={},c=[{value:"Overview",id:"overview",level:3},{value:"PreRequisites",id:"prerequisites",level:3},{value:"Deploy Eureka Server",id:"deploy-eureka-server",level:4},{value:"Configuration parameter",id:"configuration-parameter",level:3},{value:"Usage Steps",id:"usage-steps",level:3},{value:"Example of usage",id:"example-of-usage",level:3},{value:"Notes",id:"notes",level:3},{value:"Collection Metric",id:"collection-metric",level:3},{value:"Metric set: Monitor Target",id:"metric-set-monitor-target",level:4},{value:"Use Cases",id:"use-cases",level:3}],g={toc:c};function m({components:e,...t}){return(0,n.yg)("wrapper",(0,a.A)({},g,t,{components:e,mdxType:"MDXLayout"}),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},"HertzBeat integrates with Eureka registry to automatically discover service instances and create monitoring tasks for them.")),(0,n.yg)("h3",{id:"overview"},"Overview"),(0,n.yg)("p",null,"Eureka Service Discovery allows HertzBeat to connect to your Eureka server and automatically discover all registered service instances. When a new service instance is registered or an existing instance goes offline, HertzBeat will automatically create or delete corresponding monitoring tasks, achieving automated monitoring in microservice environments."),(0,n.yg)("h3",{id:"prerequisites"},"PreRequisites"),(0,n.yg)("h4",{id:"deploy-eureka-server"},"Deploy Eureka Server"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Deploy Eureka server according to ",(0,n.yg)("a",{parentName:"li",href:"https://spring.io/guides/gs/service-registration-and-discovery/"},"Eureka official documentation"),"."),(0,n.yg)("li",{parentName:"ol"},"Ensure Eureka server is accessible from HertzBeat."),(0,n.yg)("li",{parentName:"ol"},"Verify that you can access Eureka dashboard at ",(0,n.yg)("inlineCode",{parentName:"li"},"http://your-eureka-server:port/"))),(0,n.yg)("h3",{id:"configuration-parameter"},"Configuration parameter"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Parameter name"),(0,n.yg)("th",{parentName:"tr",align:null},"Parameter help description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Target Name"),(0,n.yg)("td",{parentName:"tr",align:null},"Identify the name of this monitoring. The name needs to be unique")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Eureka Service Discovery Url"),(0,n.yg)("td",{parentName:"tr",align:null},"Eureka server address. Example: ",(0,n.yg)("inlineCode",{parentName:"td"},"http://eureka-server:8761/eureka"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Collection interval"),(0,n.yg)("td",{parentName:"tr",align:null},"Interval time of monitor periodic data collection, unit: second, and the minimum interval that can be set is 30 seconds")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Description remarks"),(0,n.yg)("td",{parentName:"tr",align:null},"For more information about identifying and describing this monitoring, users can note information here")))),(0,n.yg)("h3",{id:"usage-steps"},"Usage Steps"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Create Service Discovery Monitoring")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"In HertzBeat web UI, navigate to ",(0,n.yg)("strong",{parentName:"li"},"Monitoring")," \u2192 ",(0,n.yg)("strong",{parentName:"li"},"New Monitoring")),(0,n.yg)("li",{parentName:"ul"},"Select monitoring type: ",(0,n.yg)("strong",{parentName:"li"},"Eureka Service Discovery")),(0,n.yg)("li",{parentName:"ul"},"Fill in the basic configuration parameters"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Configure Monitoring Template")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"After creating the service discovery monitoring, you need to specify a monitoring template"),(0,n.yg)("li",{parentName:"ul"},"The template defines what type of monitoring to create for discovered service instances"),(0,n.yg)("li",{parentName:"ul"},"For example: If discovered instances are HTTP services, you can select HTTP monitoring template"),(0,n.yg)("li",{parentName:"ul"},"Common template types: Port, HTTP, HTTPS, etc."))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Automatic Discovery")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"HertzBeat will periodically query Eureka server based on the collection interval"),(0,n.yg)("li",{parentName:"ul"},"Automatically create monitoring tasks for newly registered service instances"),(0,n.yg)("li",{parentName:"ul"},"Automatically delete monitoring tasks for offline service instances"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"View Discovered Instances")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"In the monitoring list, you can see all automatically created sub-monitoring tasks"),(0,n.yg)("li",{parentName:"ul"},"Each sub-monitoring task corresponds to a discovered service instance")))),(0,n.yg)("h3",{id:"example-of-usage"},"Example of usage"),(0,n.yg)("p",null,"Suppose your Eureka server is running at ",(0,n.yg)("inlineCode",{parentName:"p"},"http://192.168.1.100:8761/eureka"),", and you want to automatically monitor all service instances registered in it."),(0,n.yg)("p",null,"Configuration example:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Target Name"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"Eureka-Service-Discovery")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Eureka Service Discovery Url"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"http://192.168.1.100:8761/eureka")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Collection interval"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"60")," seconds"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Monitoring Template"),": Select ",(0,n.yg)("inlineCode",{parentName:"li"},"Port")," monitoring (to detect instance availability)")),(0,n.yg)("p",null,"After configuration:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"HertzBeat connects to Eureka server"),(0,n.yg)("li",{parentName:"ol"},"Retrieves all registered application instances"),(0,n.yg)("li",{parentName:"ol"},"Automatically creates Port monitoring for each instance (e.g., ",(0,n.yg)("inlineCode",{parentName:"li"},"USER-SERVICE-192.168.1.101:8080"),")"),(0,n.yg)("li",{parentName:"ol"},"Every 60 seconds, checks for newly registered or offline services and updates monitoring tasks accordingly")),(0,n.yg)("h3",{id:"notes"},"Notes"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Network Connectivity"),": Ensure HertzBeat can access the Eureka server address"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Monitoring Templates"),": Service discovery only discovers service instance addresses, you need to configure appropriate monitoring templates to actually monitor the instances"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Collection Interval"),": Recommended minimum interval is 60 seconds to avoid excessive requests to Eureka server"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Permission Requirements"),": Eureka server does not require authentication by default, but if authentication is configured, the URL needs to include username and password"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Instance Naming"),": Automatically created monitoring tasks are named in the format: ",(0,n.yg)("inlineCode",{parentName:"li"},"{ApplicationName}-{Host}:{Port}"))),(0,n.yg)("h3",{id:"collection-metric"},"Collection Metric"),(0,n.yg)("h4",{id:"metric-set-monitor-target"},"Metric set: Monitor Target"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Metric name"),(0,n.yg)("th",{parentName:"tr",align:null},"Metric unit"),(0,n.yg)("th",{parentName:"tr",align:null},"Metric help description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"target"),(0,n.yg)("td",{parentName:"tr",align:null},"none"),(0,n.yg)("td",{parentName:"tr",align:null},"Discovered service instance target")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"host"),(0,n.yg)("td",{parentName:"tr",align:null},"none"),(0,n.yg)("td",{parentName:"tr",align:null},"Service instance host address")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"port"),(0,n.yg)("td",{parentName:"tr",align:null},"none"),(0,n.yg)("td",{parentName:"tr",align:null},"Service instance port number")))),(0,n.yg)("h3",{id:"use-cases"},"Use Cases"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Microservice Architecture"),": Automatically monitor all microservice instances registered in Eureka"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dynamic Scaling"),": Automatically adapt to service instances added/removed due to autoscaling"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Unified Monitoring"),": Centrally manage monitoring of all services in the microservice environment"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Operation and Maintenance"),": Reduce manual configuration work and improve operation efficiency")))}m.isMDXComponent=!0}}]);