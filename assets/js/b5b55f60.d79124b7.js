"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[81872],{31448(e,t,r){r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=r(44320),n=(r(37953),r(58860));const o={id:"1.7.0-update",title:"How to update to 1.7.0",sidebar_label:"Update to 1.7.0 guide"},i=void 0,l={unversionedId:"start/1.7.0-update",id:"start/1.7.0-update",title:"How to update to 1.7.0",description:"HertzBeat 1.7.0 Upgrade Guide",source:"@site/docs/start/update-1.7.0.md",sourceDirName:"start",slug:"/start/1.7.0-update",permalink:"/docs/start/1.7.0-update",draft:!1,editUrl:"https://github.com/apache/hertzbeat/edit/master/home/docs/start/update-1.7.0.md",tags:[],version:"current",frontMatter:{id:"1.7.0-update",title:"How to update to 1.7.0",sidebar_label:"Update to 1.7.0 guide"},sidebar:"docs",previous:{title:"Install via Rainbond",permalink:"/docs/start/rainbond-deploy"},next:{title:"Update to 1.6.0 guide",permalink:"/docs/start/1.6.0-update"}},d={},p=[{value:"HertzBeat 1.7.0 Upgrade Guide",id:"hertzbeat-170-upgrade-guide",level:2},{value:"Installation Upgrade",id:"installation-upgrade",level:2},{value:"Upgrade Database",id:"upgrade-database",level:3},{value:"Upgrade Alarm Threshold",id:"upgrade-alarm-threshold",level:3},{value:"Upgrade via Export and Import",id:"upgrade-via-export-and-import",level:2}],u={toc:p};function s({components:e,...t}){return(0,n.yg)("wrapper",(0,a.A)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,n.yg)("h2",{id:"hertzbeat-170-upgrade-guide"},"HertzBeat 1.7.0 Upgrade Guide"),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"This guide is applicable for upgrading from 1.6.x to version 1.7.0.",(0,n.yg)("br",{parentName:"p"}),"\n","If you are using an older version, it is recommended to reinstall using the export function, or upgrade to 1.6.0 and then follow this guide to 1.7.0.")),(0,n.yg)("p",null,"Follow the ",(0,n.yg)("a",{parentName:"p",href:"upgrade"},"HertzBeat New Version Upgrade")),(0,n.yg)("h2",{id:"installation-upgrade"},"Installation Upgrade"),(0,n.yg)("h3",{id:"upgrade-database"},"Upgrade Database"),(0,n.yg)("p",null,"In 1.7.0, we use the ",(0,n.yg)("inlineCode",{parentName:"p"},"label")," instead of ",(0,n.yg)("inlineCode",{parentName:"p"},"tag"),", in some environment, we need drop or delete the table ",(0,n.yg)("inlineCode",{parentName:"p"},"hzb_tag_monitor_bind")," in database."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM hzb_tag_monitor_bind;\n")),(0,n.yg)("h3",{id:"upgrade-alarm-threshold"},"Upgrade Alarm Threshold"),(0,n.yg)("p",null,"In 1.7.0, we redesign the new alarm threshold, include the Real-Time Threshold and Scheduled Threshold.",(0,n.yg)("br",{parentName:"p"}),"\n","We need reconfigure the alarm threshold, alarm group by manual.  "),(0,n.yg)("admonition",{type:"tip"},(0,n.yg)("p",{parentName:"admonition"},"There are no default built-in threshold rules, such as the previous availability threshold.",(0,n.yg)("br",{parentName:"p"}),"\n","So if you find that there is no alarm after the monitoring is down, you need to configure the corresponding availability threshold yourself.")),(0,n.yg)("h2",{id:"upgrade-via-export-and-import"},"Upgrade via Export and Import"),(0,n.yg)("p",null,"If you do not want to go through the tedious script upgrade method mentioned above, you can directly export and import the monitoring tasks and threshold information from the old environment."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Deploy a new environment with the latest version."),(0,n.yg)("li",{parentName:"ul"},"Export the monitoring tasks and threshold information from the old environment on the page")))}s.isMDXComponent=!0},58860(e,t,r){r.d(t,{xA:()=>u,yg:()=>c});var a=r(37953);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=a.createContext({}),p=function(e){var t=a.useContext(d),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return a.createElement(d.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef(function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),g=p(r),c=n,m=g["".concat(d,".").concat(c)]||g[c]||s[c]||o;return r?a.createElement(m,i(i({ref:t},u),{},{components:r})):a.createElement(m,i({ref:t},u))});function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=g;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}g.displayName="MDXCreateElement"}}]);