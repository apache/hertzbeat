"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[68489],{42014:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"help/springboot2","title":"springboot2","description":"Collect and monitor the general performance metrics exposed by the SpringBoot 2.0 actuator.","source":"@site/versioned_docs/version-1.7.x/help/springboot2.md","sourceDirName":"help","slug":"/help/springboot2","permalink":"/docs/1.7.x/help/springboot2","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.7.x/help/springboot2.md","tags":[],"version":"1.7.x","frontMatter":{"id":"springboot2","Title":"Monitoring SpringBoot 2.0","sidebar_label":"SpringBoot 2.0","keywords":["open source monitoring tool","open source springboot2 monitoring tool","monitoring springboot2 metrics"]},"sidebar":"docs","previous":{"title":"JVM Monitor","permalink":"/docs/1.7.x/help/jvm"},"next":{"title":"SpringBoot 3.0","permalink":"/docs/1.7.x/help/springboot3"}}');var i=r(86070),o=r(45906);const s={id:"springboot2",Title:"Monitoring SpringBoot 2.0",sidebar_label:"SpringBoot 2.0",keywords:["open source monitoring tool","open source springboot2 monitoring tool","monitoring springboot2 metrics"]},c=void 0,d={},l=[{value:"Pre-monitoring operations",id:"pre-monitoring-operations",level:2},{value:"Configure parameters",id:"configure-parameters",level:3},{value:"Collect metrics",id:"collect-metrics",level:3},{value:"metric Collection: Health",id:"metric-collection-health",level:4},{value:"metric Collection: enviroment",id:"metric-collection-enviroment",level:4},{value:"metric Collection: threads",id:"metric-collection-threads",level:4},{value:"metric Collection: memory_used",id:"metric-collection-memory_used",level:4}];function h(e){const t={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Collect and monitor the general performance metrics exposed by the SpringBoot 2.0 actuator."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"pre-monitoring-operations",children:"Pre-monitoring operations"}),"\n",(0,i.jsx)(t.p,{children:"If you want to monitor information in 'SpringBoot' with this monitoring type, you need to integrate your SpringBoot application and enable the SpringBoot Actuator."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"1\u3001Add POM .XML dependencies:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"2. Modify the YML configuration exposure metric interface:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"management:\n  endpoints:\n    web:\n      exposure:\n        include: '*'\n    enabled-by-default: true\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Note: If your project also introduces authentication related dependencies, such as springboot security, the interfaces exposed by SpringBoot Actor may be intercepted. In this case, you need to manually release these interfaces. Taking springboot security as an example, you should add the following code to the Security Configuration class:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:'public class SecurityConfig extends WebSecurityConfigurerAdapter{\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity\n                // Configure the interfaces to be released -----------------------------------\n                .antMatchers("/actuator/**").permitAll()\n                .antMatchers("/metrics/**").permitAll()\n                .antMatchers("/trace").permitAll()\n                .antMatchers("/heapdump").permitAll()\n                // \u3002\u3002\u3002\n                // For other interfaces, please refer to: https://blog.csdn.net/JHIII/article/details/126601858 -----------------------------------\n    }\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"configure-parameters",children:"Configure parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter name"}),(0,i.jsx)(t.th,{children:"Parameter Help describes the"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitor Host"}),(0,i.jsx)(t.td,{children:"THE MONITORED PEER IPV4, IPV6 OR DOMAIN NAME. Note \u26a0\ufe0f that there are no protocol headers (eg: https://, http://)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitoring Name"}),(0,i.jsx)(t.td,{children:"A name that identifies this monitoring that needs to be unique."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Port"}),(0,i.jsx)(t.td,{children:"The default port provided by the database is 8080."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Enable HTTPS"}),(0,i.jsx)(t.td,{children:"Whether to access the website through HTTPS, please note that \u26a0\ufe0f when HTTPS is enabled, the default port needs to be changed to 443"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Collection interval"}),(0,i.jsx)(t.td,{children:"Monitor the periodic data acquisition interval, in seconds, and the minimum interval that can be set is 30 seconds"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Whether to probe"}),(0,i.jsx)(t.td,{children:"Whether to check the availability of the monitoring before adding a monitoring is successful, and the new modification operation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Description remarks"}),(0,i.jsx)(t.td,{children:"For more information identifying and describing the remarks for this monitoring, users can remark the information here"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"collect-metrics",children:"Collect metrics"}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-health",children:"metric Collection: Health"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"status"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Service health: UP, Down"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-enviroment",children:"metric Collection: enviroment"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"profile"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"The application runs profile: prod, dev, test"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"port"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Apply the exposed port"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os_arch"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system architecture"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jdk_vendor"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jdk vendor"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jvm_version"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jvm version"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-threads",children:"metric Collection: threads"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"state"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Thread status"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"number"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This thread state corresponds to number of threads"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-memory_used",children:"metric Collection: memory_used"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"space"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Memory space name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"mem_used"}),(0,i.jsx)(t.td,{children:"MB"}),(0,i.jsx)(t.td,{children:"This space occupies a memory size of"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},45906:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>c});var n=r(30758);const i={},o=n.createContext(i);function s(e){const t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);