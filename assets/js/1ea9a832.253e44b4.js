"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[28711],{7936(e,s,t){t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"help/time_expression","title":"Time Expression","description":"Introduction","source":"@site/versioned_docs/version-1.8.0/help/time_expression.md","sourceDirName":"help","slug":"/help/time_expression","permalink":"/docs/help/time_expression","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.8.0/help/time_expression.md","tags":[],"version":"1.8.0","frontMatter":{"id":"time_expression","title":"Time Expression","sidebar_label":"Time Expression","keywords":["dynamic time","time expressions"]},"sidebar":"docs","previous":{"title":"Custom plugin(Beta)","permalink":"/docs/help/plugin"},"next":{"title":"Grafana Historical Charts","permalink":"/docs/help/grafana_dashboard"}}');var i=t(86070),r=t(60056);const d={id:"time_expression",title:"Time Expression",sidebar_label:"Time Expression",keywords:["dynamic time","time expressions"]},l=void 0,c={},o=[{value:"Introduction",id:"introduction",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Supported Formatting Types",id:"supported-formatting-types",level:3},{value:"Supported Time Units",id:"supported-time-units",level:3},{value:"Where to Use",id:"where-to-use",level:4},{value:"Usage Examples",id:"usage-examples",level:4}];function h(e){const s={blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h3,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"HertzBeat supports using expressions to calculate relative time during monitoring collection, allowing for more flexible time definitions in monitoring templates."}),"\n",(0,i.jsx)(s.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"${FORMATTER [{ + | - }`<DURATION>` `<TIME_UNIT>`]}\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"FORMATTER"}),": Determines the format of the expression's result"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"DURATION"}),": Size of the time period, a positive integer"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"TIME_UNIT"}),": Unit of the time period"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"supported-formatting-types",children:"Supported Formatting Types"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Example outputs are based on the current time being ",(0,i.jsx)(s.code,{children:"2022-04-24 02:40:00.123"})]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Name"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Example"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@now"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"yyyy-MM-dd HH:mm:ss"})]}),(0,i.jsx)(s.td,{children:"2022-04-24 02:40:00"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@date"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"yyyy-MM-dd"})]}),(0,i.jsx)(s.td,{children:"2022-04-24"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@timestamp10"}),(0,i.jsx)(s.td,{children:"Returns 10-digit timestamp"}),(0,i.jsx)(s.td,{children:"1650768000"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@timestamp"}),(0,i.jsx)(s.td,{children:"Returns 13-digit timestamp"}),(0,i.jsx)(s.td,{children:"1650768000000"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@time"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"HH:mm:ss"})]}),(0,i.jsx)(s.td,{children:"02:40:00"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@year"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"yyyy"})]}),(0,i.jsx)(s.td,{children:"2022"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@month"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"MM"})]}),(0,i.jsx)(s.td,{children:"04"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@day"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"dd"})]}),(0,i.jsx)(s.td,{children:"24"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@hour"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"HH"})]}),(0,i.jsx)(s.td,{children:"02"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@minute"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"mm"})]}),(0,i.jsx)(s.td,{children:"40"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@millisecond"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"SSS"})]}),(0,i.jsx)(s.td,{children:"123"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"@second"}),(0,i.jsxs)(s.td,{children:["Formats as ",(0,i.jsx)(s.code,{children:"ss"})]}),(0,i.jsx)(s.td,{children:"00"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"supported-time-units",children:"Supported Time Units"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Name"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"y"}),(0,i.jsx)(s.td,{children:"Year"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"M"}),(0,i.jsx)(s.td,{children:"Month"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"d"}),(0,i.jsx)(s.td,{children:"Day"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"H"}),(0,i.jsx)(s.td,{children:"Hour"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"m"}),(0,i.jsx)(s.td,{children:"Minute"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"s"}),(0,i.jsx)(s.td,{children:"Second"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"w"}),(0,i.jsx)(s.td,{children:"Week"})]})]})]}),"\n",(0,i.jsx)(s.h4,{id:"where-to-use",children:"Where to Use"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Request parameters for HTTP protocol monitoring types"}),"\n",(0,i.jsx)(s.li,{children:"Request Body for HTTP protocol monitoring types"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Simple expression","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"${@now}"})," gets the current time and formats it as ",(0,i.jsx)(s.code,{children:"yyyy-MM-dd HH:mm:ss"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"${@time+1H}"})," calculates the time one hour from now and formats it as ",(0,i.jsx)(s.code,{children:"HH:mm:ss"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"${@time+1H+15m+30s}"})," calculates the time one hour, 15 minutes, and 30 seconds from now and formats it as ",(0,i.jsx)(s.code,{children:"HH:mm:ss"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Complex expression template (if the built-in formatter does not meet your needs, you can combine multiple expressions)","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"${@year}\u5e74${@month}\u6708${@day}\u65e5"})," returns the current date formatted as yyyy\u5e74MM\u6708dd\u65e5"]}),"\n"]}),"\n"]}),"\n"]})]})}function x(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},60056(e,s,t){t.d(s,{R:()=>d,x:()=>l});var n=t(30758);const i={},r=n.createContext(i);function d(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);