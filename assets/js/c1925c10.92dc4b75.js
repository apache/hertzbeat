"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[53301],{734:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"advanced/extend-point","title":"Custom Monitoring","description":"HertzBeat has custom monitoring ability. You only need to configure monitoring template yml to fit a custom monitoring type.","source":"@site/versioned_docs/version-1.8.0/advanced/extend-point.md","sourceDirName":"advanced","slug":"/advanced/extend-point","permalink":"/docs/1.8.0/advanced/extend-point","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.8.0/advanced/extend-point.md","tags":[],"version":"1.8.0","frontMatter":{"id":"extend-point","title":"Custom Monitoring","sidebar_label":"Custom Monitoring"},"sidebar":"docs","previous":{"title":"Common issues","permalink":"/docs/1.8.0/help/issue"},"next":{"title":"Tutorial Case","permalink":"/docs/1.8.0/advanced/extend-tutorial"}}');var o=t(86070),r=t(45906);const s={id:"extend-point",title:"Custom Monitoring",sidebar_label:"Custom Monitoring"},a=void 0,l={},p=[{value:"Custom Monitoring Steps",id:"custom-monitoring-steps",level:3},{value:"Custom Monitoring Metrics Refresh Interval",id:"custom-monitoring-metrics-refresh-interval",level:3},{value:"Monitoring Templates YML",id:"monitoring-templates-yml",level:3}];function m(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["HertzBeat has custom monitoring ability. You only need to configure monitoring template yml to fit a custom monitoring type.",(0,o.jsx)(n.br,{}),"\n","Custom monitoring currently supports ",(0,o.jsx)(n.a,{href:"extend-http",children:"HTTP protocol"}),"\uff0c",(0,o.jsx)(n.a,{href:"extend-jdbc",children:"JDBC protocol"}),", ",(0,o.jsx)(n.a,{href:"extend-ssh",children:"SSH protocol"}),", ",(0,o.jsx)(n.a,{href:"extend-jmx",children:"JMX protocol"}),", ",(0,o.jsx)(n.a,{href:"extend-snmp",children:"SNMP protocol"}),". And it will support more general protocols in the future."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"custom-monitoring-steps",children:"Custom Monitoring Steps"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"HertzBeat Dashboard"})," -> ",(0,o.jsx)(n.strong,{children:"Monitoring Templates"})," -> ",(0,o.jsx)(n.strong,{children:"New Template"})," -> ",(0,o.jsx)(n.strong,{children:"Config Monitoring Template Yml"})," -> ",(0,o.jsx)(n.strong,{children:"Save and Apply"})," -> ",(0,o.jsx)(n.strong,{children:"Add A Monitoring with The New Monitoring Type"})]}),"\n",(0,o.jsx)(n.h3,{id:"custom-monitoring-metrics-refresh-interval",children:"Custom Monitoring Metrics Refresh Interval"}),"\n",(0,o.jsxs)(n.p,{children:["HertzBeat now supports setting different refresh intervals for various groups of monitoring metrics. This can be configured in the monitoring template under the ",(0,o.jsx)(n.code,{children:"metrics"})," section by setting the ",(0,o.jsx)(n.code,{children:"interval"})," field, with the unit being seconds. If not set, the default refresh interval specified during the creation of the monitoring will be used."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Configuration usages of the monitoring templates yml are detailed below."}),"\n",(0,o.jsx)(n.h3,{id:"monitoring-templates-yml",children:"Monitoring Templates YML"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"We define all monitoring collection types (mysql,jvm,k8s) as yml monitoring templates, and users can import these templates to support corresponding types of monitoring."}),"\n",(0,o.jsxs)(n.p,{children:["Monitoring template is used to define ",(0,o.jsx)(n.em,{children:"the name of monitoring type(international), request parameter mapping, index information, collection protocol configuration information"}),", etc."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["eg\uff1aDefine a custom monitoring type ",(0,o.jsx)(n.code,{children:"app"})," named ",(0,o.jsx)(n.code,{children:"example2"})," which use the HTTP protocol to collect data."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Monitoring Templates"})," -> ",(0,o.jsx)(n.strong,{children:"Config New Monitoring Template Yml"})," -> ",(0,o.jsx)(n.strong,{children:"Save and Apply"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"# The monitoring type category\uff1aservice-application service monitoring db-database monitoring custom-custom monitoring os-operating system monitoring\ncategory: custom\n# The monitoring type eg: linux windows tomcat mysql aws...\napp: example2\n# The monitoring i18n name\nname:\n  zh-CN: \u6a21\u62df\u7f51\u7ad9\u76d1\u6d4b\n  en-US: EXAMPLE WEBSITE\n# The description and help of this monitoring type\nhelp:\n  zh-CN: HertzBeat \u652f\u6301\u81ea\u5b9a\u4e49\u76d1\u63a7\uff0c\u60a8\u53ea\u9700\u914d\u7f6e\u76d1\u63a7\u6a21\u677f YML \u5c31\u80fd\u9002\u914d\u4e00\u6b3e\u81ea\u5b9a\u4e49\u7684\u76d1\u63a7\u7c7b\u578b\u3002`<br>`\u5b9a\u4e49\u6d41\u7a0b\u5982\u4e0b\uff1aHertzBeat \u9875\u9762 -> \u76d1\u63a7\u6a21\u677f\u83dc\u5355 -> \u65b0\u589e\u76d1\u63a7\u7c7b\u578b -> \u914d\u7f6e\u81ea\u5b9a\u4e49\u76d1\u63a7\u6a21\u677fYML -> \u70b9\u51fb\u4fdd\u5b58\u5e94\u7528 -> \u4f7f\u7528\u65b0\u76d1\u63a7\u7c7b\u578b\u6dfb\u52a0\u76d1\u63a7\u3002\n  en-US: \"HertzBeat supports custom monitoring, and you only need to configure the monitoring template YML to adapt to a custom monitoring type. `<br>`Definition process as follow: HertzBeat Pages -> Main Menu -> Monitor Template -> edit and save -> apply this template.\"\n  zh-TW: HertzBeat\u652f\u6301\u81ea\u5b9a\u7fa9\u76e3\u63a7\uff0c\u60a8\u53ea\u9700\u914d\u5bd8\u76e3\u63a7\u6a21\u677fYML\u5c31\u80fd\u9069\u914d\u4e00\u6b3e\u81ea\u5b9a\u7fa9\u7684\u76e3\u63a7\u985e\u578b\u3002`<br>`\u5b9a\u7fa9\u6d41\u7a0b\u5982\u4e0b\uff1aHertzBeat\u9801\u9762->\u76e3\u63a7\u6a21\u677f\u9078\u55ae->\u65b0\u589e\u76e3\u63a7\u985e\u578b->\u914d\u5bd8\u81ea\u5b9a\u7fa9\u76e3\u63a7\u6a21\u677fYML ->\u9ede\u64ca\u4fdd\u5b58\u61c9\u7528->\u4f7f\u7528\u65b0\u76e3\u63a7\u985e\u578b\u6dfb\u52a0\u76e3\u63a7\u3002\nhelpLink:\n  zh-CN: https://hertzbeat.apache.org/zh-cn/docs/advanced/extend-point/\n  en-US: https://hertzbeat.apache.org/docs/advanced/extend-point/\n# Input params define for monitoring(render web ui by the definition)\nparams:\n  # field-param field key\n  - field: host\n    # name-param field display i18n name\n    name:\n      zh-CN: \u4e3b\u673aHost\n      en-US: Host\n    # type-param field type(most mapping the html input type)\n    type: host\n    # required-true or false\n    required: true\n  # field-param field key\n  - field: port\n    # name-param field display i18n name\n    name:\n      zh-CN: \u7aef\u53e3\n      en-US: Port\n    # type-param field type(most mapping the html input type)\n    type: number\n    # when type is number, range is required\n    range: '[0,65535]'\n    # required-true or false\n    required: true\n    # default value\n    defaultValue: 80\n  # field-param field key\n  - field: uri\n    # name-param field display i18n name\n    name:\n      zh-CN: \u76f8\u5bf9\u8def\u5f84\n      en-US: URI\n    # type-param field type(most mapping the html input tag)\n    type: text\n    # when type is text, use limit to limit string length\n    limit: 200\n    # required-true or false\n    required: false\n    # param field input placeholder\n    placeholder: 'Website uri path(no ip port) EG:/console'\n  # field-param field key\n  - field: ssl\n    # name-param field display i18n name\n    name:\n      zh-CN: \u542f\u7528HTTPS\n      en-US: HTTPS\n    # type-param field type(most mapping the html input type)\n    type: boolean\n    # required-true or false\n    required: true\n  # field-param field key\n  - field: timeout\n    # name-param field display i18n name\n    name:\n      zh-CN: \u8d85\u65f6\u65f6\u95f4(ms)\n      en-US: Timeout(ms)\n    # type-param field type(most mapping the html input tag)\n    type: number\n    # required-true or false\n    required: false\n    # hide param-true or false\n    hide: true\n\nmetrics:\n  # metrics - summary, inner monitoring metrics (responseTime - response time, keyword - number of keywords)\n  - name: summary\n    # metrics scheduling priority(0->127)->(high->low), metrics with the same priority will be scheduled in parallel\n    # priority 0's metrics is availability metrics, it will be scheduled first, only availability metrics collect success will the scheduling continue\n    priority: 0\n    # refresh interval for this metrics group\n    interval: 600\n    # collect metrics content\n    fields:\n      # field-metric name, type-metric type(0-number,1-string), unit-metric unit('%','ms','MB'), label-if is metrics label\n      - field: responseTime\n        type: 0\n        unit: ms\n      - field: keyword\n        type: 0\n    # the protocol used for monitoring, eg: sql, ssh, http, telnet, wmi, snmp, sdk\n    protocol: http\n    # the config content when protocol is http\n    http:\n      # http host: ipv4 ipv6 domain\n      host: ^_^host^_^\n      # http port\n      port: ^_^port^_^\n      # http url\n      url: ^_^uri^_^\n      timeout: ^_^timeout^_^\n      # http method: GET POST PUT DELETE PATCH\n      method: GET\n      # if enabled https\n      ssl: ^_^ssl^_^\n      # http response data parse type: default-hertzbeat rule, jsonpath-jsonpath script, website-for website monitoring, prometheus-prometheus exporter rule\n      parseType: website\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},45906:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(30758);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);