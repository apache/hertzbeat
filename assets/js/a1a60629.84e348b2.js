"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[22653],{47702(e,a,t){t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=t(44320),r=(t(37953),t(58860));const o={id:"package-deploy",title:"Install HertzBeat via Package",sidebar_label:"Install via Package"},i=void 0,l={unversionedId:"start/package-deploy",id:"start/package-deploy",title:"Install HertzBeat via Package",description:"You can install and run Apache HertzBeat\u2122 on Linux Windows Mac system, and CPU supports X86/ARM64.",source:"@site/docs/start/package-deploy.md",sourceDirName:"start",slug:"/start/package-deploy",permalink:"/docs/start/package-deploy",draft:!1,editUrl:"https://github.com/apache/hertzbeat/edit/master/home/docs/start/package-deploy.md",tags:[],version:"current",frontMatter:{id:"package-deploy",title:"Install HertzBeat via Package",sidebar_label:"Install via Package"},sidebar:"docs",previous:{title:"Install via Docker Compose",permalink:"/docs/start/docker-compose-deploy"},next:{title:"Install via aaPanel",permalink:"/docs/start/baota-deploy"}},p={},c=[{value:"Deploy HertzBeat Server",id:"deploy-hertzbeat-server",level:3},{value:"Deploy HertzBeat Collector Cluster(Optional)",id:"deploy-hertzbeat-collector-clusteroptional",level:3},{value:"FAQ",id:"faq",level:3}],s={toc:c};function g({components:e,...a}){return(0,r.yg)("wrapper",(0,n.A)({},s,a,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"You can install and run Apache HertzBeat\u2122 on Linux Windows Mac system, and CPU supports X86/ARM64.\nSince version 1.6.0 uses ",(0,r.yg)("inlineCode",{parentName:"p"},"Java 17")," and the installation package no longer provides a built-in JDK version, use the new Hertzbeat according to the following situations:"),(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"When the default environment variable on your server is ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 17"),", you do not need to take any action for this step."),(0,r.yg)("li",{parentName:"ul"},"When the default environment variable on your server is not ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 17"),", such as ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 8")," or ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 11"),", and if there are no other applications on your server that require a lower version of Java, download the appropriate version from ",(0,r.yg)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html"},"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html")," according to your system, and search the engine for how to set a new environment variable pointing to the new ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 17"),"."),(0,r.yg)("li",{parentName:"ul"},"When the default environment variable on your server is not ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 17"),", such as ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 8")," or ",(0,r.yg)("inlineCode",{parentName:"li"},"Java 11"),",and you don't want to change the environment variable because if there are other applications on your server that require a lower version of Java, download the appropriate version from ",(0,r.yg)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html"},"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html")," according to your system, and rename the extracted folder to ",(0,r.yg)("inlineCode",{parentName:"li"},"java"),", then copy it to the Hertzbeat extraction directory."))),(0,r.yg)("h3",{id:"deploy-hertzbeat-server"},"Deploy HertzBeat Server"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Download installation package"),(0,r.yg)("p",{parentName:"li"},"Download installation package ",(0,r.yg)("inlineCode",{parentName:"p"},"apache-hertzbeat-xxx-bin.tar.gz")," corresponding to your system environment"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/download"},"Download Page")))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Configure HertzBeat's configuration file(optional)"),(0,r.yg)("p",{parentName:"li"},"Unzip the installation package to the host eg: /opt/hertzbeat"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"tar zxvf apache-hertzbeat-xxx-bin.tar.gz\n")),(0,r.yg)("admonition",{parentName:"li",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"The configuration file is located in ",(0,r.yg)("inlineCode",{parentName:"p"},"config/application.yml"),", you can modify the configuration file according to your needs to configure external dependent services, such as databases, time series databases, etc.\nHertzBeat defaults to using internal services when started, but it is recommended to switch to external database services in production environments.")),(0,r.yg)("p",{parentName:"li"},"It is recommended to use ",(0,r.yg)("a",{parentName:"p",href:"postgresql-change"},"PostgreSQL")," for metadata storage and ",(0,r.yg)("a",{parentName:"p",href:"victoria-metrics-init"},"VictoriaMetrics")," for metric data storage. Specific steps are as follows"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"postgresql-change"},"Switch built-in H2 database to PostgreSQL")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"victoria-metrics-init"},"Using VictoriaMetrics to store metric data")))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Configure the account file(optional)"),(0,r.yg)("p",{parentName:"li"},"HertzBeat default built-in three user accounts, respectively ",(0,r.yg)("inlineCode",{parentName:"p"},"admin/hertzbeat tom/hertzbeat guest/hertzbeat"),"\nIf you need modify account or password, configure ",(0,r.yg)("inlineCode",{parentName:"p"},"config/sureness.yml"),".\nFor detail steps, please refer to ",(0,r.yg)("a",{parentName:"p",href:"account-modify"},"Configure Account Password"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Start the service"),(0,r.yg)("p",{parentName:"li"},"Execute the startup script in the installation directory ",(0,r.yg)("inlineCode",{parentName:"p"},"bin/"),", or ",(0,r.yg)("inlineCode",{parentName:"p"},"startup.bat")," in windows."),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"./startup.sh \n"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Begin to explore HertzBeat"),(0,r.yg)("p",{parentName:"li"},"Access ",(0,r.yg)("a",{parentName:"p",href:"http://ip:1157/"},"http://ip:1157/")," using browser. You can explore HertzBeat with default account ",(0,r.yg)("inlineCode",{parentName:"p"},"admin/hertzbeat")," now!"))),(0,r.yg)("h3",{id:"deploy-hertzbeat-collector-clusteroptional"},"Deploy HertzBeat Collector Cluster(Optional)"),(0,r.yg)("admonition",{type:"note"},(0,r.yg)("p",{parentName:"admonition"},"HertzBeat Collector is a lightweight data collector used to collect and send data to HertzBeat Server.\nDeploying multiple HertzBeat Collectors can achieve high availability, load balancing, and cloud-edge collaboration of data.")),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"HertzBeat",src:t(99163).A,width:"2360",height:"846"})),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Download installation package"),(0,r.yg)("p",{parentName:"li"},"Download installation package ",(0,r.yg)("inlineCode",{parentName:"p"},"apache-hertzbeat-collector-xxx-bin.tar.gz")," corresponding to your system environment"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/download"},"Download Page")))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Configure the collector configuration file"),(0,r.yg)("p",{parentName:"li"},"Unzip the installation package to the host eg: /opt/hertzbeat-collector"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"tar zxvf apache-hertzbeat-collector-xxx-bin.tar.gz\n")),(0,r.yg)("p",{parentName:"li"},"Configure the collector configuration yml file ",(0,r.yg)("inlineCode",{parentName:"p"},"config/application.yml"),": unique ",(0,r.yg)("inlineCode",{parentName:"p"},"identity")," name, running ",(0,r.yg)("inlineCode",{parentName:"p"},"mode")," (public or private), hertzbeat ",(0,r.yg)("inlineCode",{parentName:"p"},"manager-host"),", hertzbeat ",(0,r.yg)("inlineCode",{parentName:"p"},"manager-port")),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-yaml"},"collector:\n  dispatch:\n    entrance:\n      netty:\n        enabled: true\n        identity: ${IDENTITY:}\n        mode: ${MODE:public}\n        manager-host: ${MANAGER_HOST:127.0.0.1}\n        manager-port: ${MANAGER_PORT:1158}\n")),(0,r.yg)("blockquote",{parentName:"li"},(0,r.yg)("p",{parentName:"blockquote"},"Parameters detailed explanation")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"identity")," : (optional) Set the unique identifier name of the collector. Note that the name of the collector must be unique when there are multiple collectors."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"mode")," : Configure the running mode (public or private), public cluster mode or private cloud-edge mode."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"manager-host")," : Important, configure the address of the connected HertzBeat Server,"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"manager-port")," : (optional) Configure the port of the connected HertzBeat Server, default 1158."))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Start the service"),(0,r.yg)("p",{parentName:"li"},"Run command ",(0,r.yg)("inlineCode",{parentName:"p"},"$ ./bin/startup.sh")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"bin/startup.bat"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Begin to explore HertzBeat Collector"),(0,r.yg)("p",{parentName:"li"},"Access ",(0,r.yg)("inlineCode",{parentName:"p"},"http://ip:1157")," and you will see the registered new collector in dashboard"))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"HAVE FUN")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"faq"},"FAQ"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"you need to prepare the JAVA environment in advance"),(0,r.yg)("p",{parentName:"li"},"Install JAVA runtime environment-refer to ",(0,r.yg)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/downloads/"},"official website"),"\nrequirement\uff1aJDK17 ENV\ndownload JAVA installation package: ",(0,r.yg)("a",{parentName:"p",href:"https://mirrors.huaweicloud.com/openjdk/"},"mirror website"),"\nAfter installation use command line to check whether you install it successfully."),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'$ java -version\njava version "17.0.9"\nJava(TM) SE Runtime Environment 17.0.9 (build 17.0.9+8-LTS-237)\nJava HotSpot(TM) 64-Bit Server VM 17.0.9 (build 17.0.9+8-LTS-237, mixed mode)\n\n'))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"According to the process deploy\uff0cvisit ",(0,r.yg)("a",{parentName:"p",href:"http://ip:1157/"},"http://ip:1157/")," no interface\nPlease refer to the following points to troubleshoot issues:"),(0,r.yg)("blockquote",{parentName:"li"},(0,r.yg)("p",{parentName:"blockquote"},"1\uff1aIf you switch to dependency service MYSQL database\uff0ccheck whether the database is created and started successfully.",(0,r.yg)("br",{parentName:"p"}),"\n","2\uff1aCheck whether dependent services, IP account and password configuration is correct in HertzBeat's configuration file ",(0,r.yg)("inlineCode",{parentName:"p"},"hertzbeat/config/application.yml"),".",(0,r.yg)("br",{parentName:"p"}),"\n","3\uff1aCheck whether the running log has errors in ",(0,r.yg)("inlineCode",{parentName:"p"},"hertzbeat/logs/")," directory. If you haven't solved the issue, report it to the communication group or community.")))))}g.isMDXComponent=!0},58860(e,a,t){t.d(a,{xA:()=>s,yg:()=>m});var n=t(37953);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach(function(a){r(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=n.createContext({}),c=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=c(e.components);return n.createElement(p.Provider,{value:a},e.children)},g={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef(function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,y=d["".concat(p,".").concat(m)]||d[m]||g[m]||o;return t?n.createElement(y,i(i({ref:a},s),{},{components:t})):n.createElement(y,i({ref:a},s))});function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},99163(e,a,t){t.d(a,{A:()=>n});const n=t.p+"assets/images/cluster-arch-f5cb9fea50e3ce406fb7b97d2c0add56.png"}}]);