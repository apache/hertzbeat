"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[6045],{45906:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>c});var t=a(30758);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}},64432:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"community/how_to_release","title":"How to Release","description":"This tutorial describes in detail how to release Apache HertzBeat\u2122, take the release of version 1.7.3 as an example.","source":"@site/versioned_docs/version-1.8.0/community/how-to-release.md","sourceDirName":"community","slug":"/community/how_to_release","permalink":"/docs/community/how_to_release","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.8.0/community/how-to-release.md","tags":[],"version":"1.8.0","sidebarPosition":4,"frontMatter":{"id":"how_to_release","title":"How to Release","sidebar_position":4},"sidebar":"docs","previous":{"title":"Code style and quality guide","permalink":"/docs/community/code_style_and_quality_guide"},"next":{"title":"How to Verify Release","permalink":"/docs/community/how_to_verify_release"}}');var r=a(86070),s=a(45906);const i={id:"how_to_release",title:"How to Release",sidebar_position:4},c=void 0,o={},h=[{value:"1. Environmental requirements",id:"1-environmental-requirements",level:2},{value:"2. Preparing for release",id:"2-preparing-for-release",level:2},{value:"2.1 Key generation",id:"21-key-generation",level:3},{value:"2.2 Upload the generated key to the public server",id:"22-upload-the-generated-key-to-the-public-server",level:3},{value:"2.3 Check if the key is created successfully",id:"23-check-if-the-key-is-created-successfully",level:4},{value:"2.4 Add the gpg public key to the KEYS file of the Apache SVN project repo",id:"24-add-the-gpg-public-key-to-the-keys-file-of-the-apache-svn-project-repo",level:4},{value:"2.4.1 Add public key to KEYS in dev branch",id:"241-add-public-key-to-keys-in-dev-branch",level:5},{value:"2.4.2 Add public key to KEYS in release branch",id:"242-add-public-key-to-keys-in-release-branch",level:5},{value:"3. Prepare material package &amp; release",id:"3-prepare-material-package--release",level:2},{value:"Build Package",id:"build-package",level:3},{value:"3.1 Based on the master branch, create a release-<code>release_version</code>-rcx branch, such as release-1.7.3-rc1, And create a tag named v1.7.3-rc1 based on the release-1.7.3-rc1 branch, and set this tag as pre-release",id:"31-based-on-the-master-branch-create-a-release-release_version-rcx-branch-such-as-release-173-rc1-and-create-a-tag-named-v173-rc1-based-on-the-release-173-rc1-branch-and-set-this-tag-as-pre-release",level:4},{value:"3.2 checkout release branch to local",id:"32-checkout-release-branch-to-local",level:4},{value:"3.3 Compile the binary package",id:"33-compile-the-binary-package",level:4},{value:"3.4 Package the source code",id:"34-package-the-source-code",level:4},{value:"Sign package",id:"sign-package",level:3},{value:"3.5 Sign binary and source packages",id:"35-sign-binary-and-source-packages",level:4},{value:"3.6 Verify signature",id:"36-verify-signature",level:4},{value:"3.7 Publish the dev directory of the Apache SVN material package",id:"37-publish-the-dev-directory-of-the-apache-svn-material-package",level:4},{value:"4. Enter the community voting stage",id:"4-enter-the-community-voting-stage",level:2},{value:"4.1 Send a Community Vote Email",id:"41-send-a-community-vote-email",level:3},{value:"4. Complete the final publishing steps",id:"4-complete-the-final-publishing-steps",level:2},{value:"4.1 Migrating source and binary packages",id:"41-migrating-source-and-binary-packages",level:3},{value:"4.2 Add the new version download address to the official website",id:"42-add-the-new-version-download-address-to-the-official-website",level:4},{value:"4.3 Generate a release on github",id:"43-generate-a-release-on-github",level:4},{value:"4.5 Send new version announcement email",id:"45-send-new-version-announcement-email",level:4}];function l(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This tutorial describes in detail how to release Apache HertzBeat\u2122, take the release of version 1.7.3 as an example."}),"\n",(0,r.jsx)(n.h2,{id:"1-environmental-requirements",children:"1. Environmental requirements"}),"\n",(0,r.jsx)(n.p,{children:"This release process is operated in the UbuntuOS(Windows,Mac), and the following tools are required:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"JDK 17"}),"\n",(0,r.jsx)(n.li,{children:"Node18 pnpm"}),"\n",(0,r.jsx)(n.li,{children:"Apache Maven 3.x"}),"\n",(0,r.jsx)(n.li,{children:"GnuPG 2.x"}),"\n",(0,r.jsx)(n.li,{children:"Git"}),"\n",(0,r.jsx)(n.li,{children:"SVN (apache uses svn to host project releases)"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Pay attention to setting environment variables ",(0,r.jsx)(n.code,{children:"export GPG_TTY=$(tty)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-preparing-for-release",children:"2. Preparing for release"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"First summarize the account information to better understand the operation process, will be used many times later."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["apache id: ",(0,r.jsx)(n.code,{children:"muchunjin (APACHE LDAP UserName)"})]}),"\n",(0,r.jsxs)(n.li,{children:["apache passphrase: ",(0,r.jsx)(n.code,{children:"APACHE LDAP Passphrase"})]}),"\n",(0,r.jsxs)(n.li,{children:["apache email: ",(0,r.jsx)(n.code,{children:"muchunjin@apache.org"})]}),"\n",(0,r.jsxs)(n.li,{children:["gpg real name: ",(0,r.jsx)(n.code,{children:"muchunjin (Any name can be used, here I set it to the same name as the apache id)"})]}),"\n",(0,r.jsxs)(n.li,{children:["gpg key passphrase: ",(0,r.jsx)(n.code,{children:"The password set when creating the gpg key, you need to remember this password"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"21-key-generation",children:"2.1 Key generation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"$ gpg --full-gen-key\ngpg (GnuPG) 2.2.27; Copyright (C) 2021 Free Software Foundation, Inc.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPlease select what kind of key you want:\n(1) RSA and RSA (default)\n(2) DSA and Elgamal\n(3) DSA (sign only)\n(4) RSA (sign only)\n(14) Existing key from card\nYour selection? 1 # Please enter 1\nRSA keys may be between 1024 and 4096 bits long.\nWhat keysize do you want? (3072) 4096 # Please enter 4096 here\nRequested keysize is 4096 bits\nPlease specify how long the key should be valid.\n0 = key does not expire\n`<n>` = key expires in n days\n`<n>`w = key expires in n weeks\n`<n>`m = key expires in n months\n`<n>`y = key expires in n years\nKey is valid for? (0) 0 # Please enter 0\nKey does not expire at all\nIs this correct? (y/N) y # Please enter y here\n\nGnuPG needs to construct a user ID to identify your key.\n\nReal name: muchunjin # Please enter 'gpg real name'\nEmail address: muchunjin@apache.org # Please enter your apache email address here\nComment: apache key # Please enter some comments here\nYou selected this USER-ID:\n    \"muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)\"\n\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # Please enter O here\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\n\n# At this time, a dialog box will pop up, asking you to enter the key for this gpg.\n# you need to remember that it will be used in subsequent steps.\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Please enter this passphrase to                     \u2502\n\u2502 protect your new key                                \u2502\n\u2502                                                     \u2502\n\u2502 Passphrase: _______________________________________ \u2502\n\u2502                                                     \u2502\n\u2502     `<OK>`                    `<Cancel>`                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n# Here you need to re-enter the password in the previous step.\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Please re-enter this passphrase                     \u2502\n\u2502                                                     \u2502\n\u2502 Passphrase: _______________________________________ \u2502\n\u2502                                                     \u2502\n\u2502     `<OK>`                    `<Cancel>`                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\ngpg: key ACFB69E705016886 marked as ultimately trusted\ngpg: revocation certificate stored as '/root/.gnupg/openpgp-revocs.d/DC12398CCC33A5349EB9663DF9D970AB18C9EDF6.rev'\npublic and secret key created and signed.\n\npub   rsa4096 2023-05-01 [SC]\n      85778A4CE4DD04B7E07813ABACFB69E705016886\nuid                      muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)\nsub   rsa4096 2023-05-01 [E]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Keys can be viewed through the ",(0,r.jsx)(n.code,{children:"gpg --list-signatures"})," command"]}),"\n",(0,r.jsx)(n.h3,{id:"22-upload-the-generated-key-to-the-public-server",children:"2.2 Upload the generated key to the public server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"$ gpg --keyid-format SHORT --list-keys\n/root/.gnupg/pubring.kbx\n------------------------\npub   rsa4096/05016886 2023-05-01 [SC]\n      85778A4CE4DD04B7E07813ABACFB69E705016886\nuid         [ultimate] muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)\nsub   rsa4096/0C5A4E1C 2023-05-01 [E]\n\n# Send public key to keyserver via key id\n$ gpg --keyserver keyserver.ubuntu.com --send-key 05016886\n# Among them, keyserver.ubuntu.com is the selected keyserver, it is recommended to use this, because the Apache Nexus verification uses this keyserver\n"})}),"\n",(0,r.jsx)(n.h4,{id:"23-check-if-the-key-is-created-successfully",children:"2.3 Check if the key is created successfully"}),"\n",(0,r.jsx)(n.p,{children:"Verify whether it is synchronized to the public network, it will take about a minute to find out the answer, if not successful, you can upload and retry multiple times."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'$ gpg --keyserver keyserver.ubuntu.com --recv-keys 05016886   # If the following content appears, it means success\ngpg: key ACFB69E705016886: "muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)" not changed\ngpg: Total number processed: 1\ngpg:              unchanged: 1\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Or enter ",(0,r.jsx)(n.a,{href:"https://keyserver.ubuntu.com/",children:"https://keyserver.ubuntu.com/"})," address in the browser, enter the name of the key and click 'Search key' to search if existed."]}),"\n",(0,r.jsx)(n.h4,{id:"24-add-the-gpg-public-key-to-the-keys-file-of-the-apache-svn-project-repo",children:"2.4 Add the gpg public key to the KEYS file of the Apache SVN project repo"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Apache HertzBeat\u2122 Branch Dev ",(0,r.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/dev/hertzbeat",children:"https://dist.apache.org/repos/dist/dev/hertzbeat"})]}),"\n",(0,r.jsxs)(n.li,{children:["Apache HertzBeat\u2122 Branch Release ",(0,r.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/release/hertzbeat",children:"https://dist.apache.org/repos/dist/release/hertzbeat"})]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"241-add-public-key-to-keys-in-dev-branch",children:"2.4.1 Add public key to KEYS in dev branch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'$ mkdir -p svn/dev\n$ cd svn/dev\n\n$ svn co https://dist.apache.org/repos/dist/dev/hertzbeat\n$ cd svn/dev/hertzbeat\n\n# Append the KEY you generated to the file KEYS, and check if it is added correctly\n$ (gpg --list-sigs muchunjin@apache.org && gpg --export --armor muchunjin@apache.org) >> KEYS\n\n$ svn ci -m "add gpg key for muchunjin"\n'})}),"\n",(0,r.jsx)(n.h5,{id:"242-add-public-key-to-keys-in-release-branch",children:"2.4.2 Add public key to KEYS in release branch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'$ mkdir -p svn/release\n$ cd svn/release\n\n$ svn co https://dist.apache.org/repos/dist/release/hertzbeat\n$ cd svn/release/hertzbeat\n\n# Append the KEY you generated to the file KEYS, and check if it is added correctly\n$ (gpg --list-sigs muchunjin@apache.org && gpg --export --armor muchunjin@apache.org) >> KEYS\n\n$ svn ci -m "add gpg key for muchunjin"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3-prepare-material-package--release",children:"3. Prepare material package & release"}),"\n",(0,r.jsx)(n.h3,{id:"build-package",children:"Build Package"}),"\n",(0,r.jsxs)(n.h4,{id:"31-based-on-the-master-branch-create-a-release-release_version-rcx-branch-such-as-release-173-rc1-and-create-a-tag-named-v173-rc1-based-on-the-release-173-rc1-branch-and-set-this-tag-as-pre-release",children:["3.1 Based on the master branch, create a release-",(0,r.jsx)(n.code,{children:"release_version"}),"-rcx branch, such as release-1.7.3-rc1, And create a tag named v1.7.3-rc1 based on the release-1.7.3-rc1 branch, and set this tag as pre-release"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git checkout master\ngit checkout -b release-1.7.3-rc1\n"})}),"\n",(0,r.jsx)(n.h4,{id:"32-checkout-release-branch-to-local",children:"3.2 checkout release branch to local"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git checkout release-1.7.3-rc1\n"})}),"\n",(0,r.jsx)(n.h4,{id:"33-compile-the-binary-package",children:"3.3 Compile the binary package"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Build HertzBeat server binary, run script in ",(0,r.jsx)(n.code,{children:"web-app"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"pnpm install\n\npnpm package\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"run script in root"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mvn clean package -Prelease\n"})}),"\n",(0,r.jsx)(n.p,{children:"then"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mvn clean install\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Build HertzBeat collector binary, run script in ",(0,r.jsx)(n.code,{children:"collector"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mvn clean package -Pcluster\n"})}),"\n",(0,r.jsx)(n.p,{children:"The release package are here:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"dist/apache-hertzbeat-{version}-bin.tar.gz"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"dist/apache-hertzbeat-collector-{version}-bin.tar.gz"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"dist/apache-hertzbeat-{version}-docker-compose.tar.gz"})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"34-package-the-source-code",children:"3.4 Package the source code"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Package the project source code"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'git archive \\\n--format=tar.gz \\\n--output="dist/apache-hertzbeat-1.7.3-src.tar.gz" \\\n--prefix=apache-hertzbeat-1.7.3-src/ \\\nrelease-1.7.3-rc1\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The archive package is here ",(0,r.jsx)(n.code,{children:"dist/apache-hertzbeat-1.7.3-src.tar.gz"})]}),"\n",(0,r.jsx)(n.h3,{id:"sign-package",children:"Sign package"}),"\n",(0,r.jsx)(n.h4,{id:"35-sign-binary-and-source-packages",children:"3.5 Sign binary and source packages"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"gpg -u 33545C76"}),"  ",(0,r.jsx)(n.code,{children:"33545C76"})," is your gpg secret ID, see from ",(0,r.jsx)(n.code,{children:"gpg --keyid-format SHORT --list-keys"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd dist\n\n# sign\nfor i in *.tar.gz; do echo $i; gpg -u 33545C76 --armor --output $i.asc --detach-sig $i ; done\n\n# SHA512\nfor i in *.tar.gz; do echo $i; sha512sum $i > $i.sha512 ; done\n\n# if macos sha512sum not found, you can install by brew install coreutils\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"The final file list is as follows"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"apache-hertzbeat-1.7.3-src.tar.gz\napache-hertzbeat-1.7.3-src.tar.gz.asc\napache-hertzbeat-1.7.3-src.tar.gz.sha512\napache-hertzbeat-1.7.3-bin.tar.gz\napache-hertzbeat-1.7.3-bin.tar.gz.asc\napache-hertzbeat-1.7.3-bin.tar.gz.sha512\napache-hertzbeat-1.7.3-docker-compose.tar.gz\napache-hertzbeat-1.7.3-docker-compose.tar.gz.asc\napache-hertzbeat-1.7.3-docker-compose.tar.gz.sha512\napache-hertzbeat-collector-1.7.3-bin.tar.gz\napache-hertzbeat-collector-1.7.3-bin.tar.gz.asc\napache-hertzbeat-collector-1.7.3-bin.tar.gz.sha512\n"})}),"\n",(0,r.jsx)(n.h4,{id:"36-verify-signature",children:"3.6 Verify signature"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'$ cd dist\n\n# Verify signature\n$ for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i ; done\n\napache-hertzbeat-1.7.3-bin.tar.gz\ngpg: Signature made Tue May  2 12:16:35 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)" [ultimate]\napache-hertzbeat-1.7.3-docker-compose.tar.gz\ngpg: Signature made Tue May  2 12:16:36 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)" [ultimate]\napache-hertzbeat-1.7.3-src.tar.gz\ngpg: Signature made Tue May  2 12:16:37 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)" [ultimate]\napache-hertzbeat-collector-1.7.3-bin.tar.gz\ngpg: Signature made Tue May  2 12:16:37 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (apache key) [muchunjin@apache.org](mailto:muchunjin@apache.org)" [ultimate]\n\n# Verify SHA512\n$ for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done\n\napache-hertzbeat-1.7.3-src.tar.gz\napache-hertzbeat-1.7.3-src.tar.gz: OK\napache-hertzbeat-1.7.3-bin.tar.gz\napache-hertzbeat-1.7.3-bin.tar.gz: OK\napache-hertzbeat-1.7.3-docker-compose.tar.gz\napache-hertzbeat-1.7.3-docker-compose.tar.gz: OK\napache-hertzbeat-collector-1.7.3-bin.tar.gz\napache-hertzbeat-collector-1.7.3-bin.tar.gz: OK\n'})}),"\n",(0,r.jsx)(n.h4,{id:"37-publish-the-dev-directory-of-the-apache-svn-material-package",children:"3.7 Publish the dev directory of the Apache SVN material package"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Clone the dev directory"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Check out the dev directory of the Apache SVN to the svn/dev directory under dist in the root directory of the Apache HertzBeat\u2122 project\nsvn co https://dist.apache.org/repos/dist/dev/hertzbeat svn/dev\n\nsvn co --depth empty https://dist.apache.org/repos/dist/dev/hertzbeat\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Copy the material package to the dev directory"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Create a version number directory and name it in the form of ",(0,r.jsx)(n.code,{children:"release_version"}),"-",(0,r.jsx)(n.code,{children:"RC_version"}),". RC_version starts from 1, that is, the candidate version starts from RC1. During the release process, there is a problem that causes the vote to fail.\nIf it needs to be corrected, it needs to iterate the RC version , the RC version number needs to be +1. For example: Vote for version 1.7.3-RC1. If the vote passes without any problems, the RC1 version material will be released as the final version material.\nIf there is a problem (when the hertzbeat/incubator community votes, the voters will strictly check various release requirements and compliance issues) and need to be corrected, then re-initiate the vote after the correction, and the candidate version for the next vote is 1.7.3- RC2."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir -p svn/dev/1.7.3-RC1\ncp -f dist/* svn/dev/1.7.3-RC1\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Commit to SVN"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'cd svn/dev\n\n# 1.check svn status\nsvn status\n\n# 2. add to svn\nsvn add 1.7.3-RC1\n\nsvn status\n\n# 3. Submit to svn remote server\nsvn commit -m "release for HertzBeat 1.7.3"\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check Apache SVN Commit Results"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Visit the address ",(0,r.jsx)(n.a,{href:"https://dist.apache.org/repos/dist/dev/hertzbeat/",children:"https://dist.apache.org/repos/dist/dev/hertzbeat/"})," in the browser, check if existed the new material package"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-enter-the-community-voting-stage",children:"4. Enter the community voting stage"}),"\n",(0,r.jsx)(n.h3,{id:"41-send-a-community-vote-email",children:"4.1 Send a Community Vote Email"}),"\n",(0,r.jsxs)(n.p,{children:["Send a voting email in the community requires at least three ",(0,r.jsx)(n.code,{children:"+1"})," and no ",(0,r.jsx)(n.code,{children:"-1"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Send to"}),": ",(0,r.jsx)(n.a,{href:"mailto:dev@hertzbeat.apache.org",children:"dev@hertzbeat.apache.org"})," ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Title"}),": [VOTE] Release Apache HertzBeat\u2122 1.7.3 rc1 ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Body"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"Hello HertzBeat Community:\n\nThis is a call for vote to release Apache HertzBeat\u2122 version release-1.7.3-RC1.\n\nApache HertzBeat\u2122 - A real-time observability system with agentless, performance cluster, prometheus-compatible, custom monitoring and status page building capabilities.\n\nRelease notes:\nhttps://github.com/apache/hertzbeat/releases/tag/v1.7.3-rc1\n\nThe release candidates:\nhttps://dist.apache.org/repos/dist/dev/hertzbeat/1.7.3-RC1/\n\nGit tag for the release:\nhttps://github.com/apache/hertzbeat/releases/tag/v1.7.3-rc1\n\nThe artifacts signed with PGP key [33545C76], corresponding to [muchunjin@apache.org], that can be found in keys file:\nhttps://downloads.apache.org/hertzbeat/KEYS\n\nThe vote will be open for at least 72 hours or until the necessary number of votes are reached.\n\nPlease vote accordingly:\n\n[ ] +1 approve\n[ ] +0 no opinion\n[ ] -1 disapprove with the reason\n\n*Valid check is a requirement for a vote. *Checklist for reference:\n\n[ ] Download HertzBeat are valid.\n[ ] Checksums and PGP signatures are valid.\n[ ] Source code distributions have correct names matching the current\nrelease.\n[ ] LICENSE and NOTICE files are correct for each HertzBeat repo.\n[ ] All files have license headers if necessary.\n[ ] No compiled archives bundled in source archive.\n[ ] Can compile from source.\n\nSteps to validate the release\uff0cPlease refer to:\nhttps://hertzbeat.apache.org/docs/community/how_to_verify_release\n\nHow to Build:\nhttps://hertzbeat.apache.org/docs/community/development/#build-hertzbeat-binary-package\n\nThanks!\n"})}),"\n",(0,r.jsx)(n.p,{children:"After 72 hours, the voting results will be counted, and the voting result email will be sent, as follows."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Send to"}),": ",(0,r.jsx)(n.a,{href:"mailto:dev@hertzbeat.apache.org",children:"dev@hertzbeat.apache.org"})," ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Title"}),": [RESULT][VOTE] Release Apache HertzBeat\u2122 1.7.3-rc1 ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Body"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:'Dear HertzBeat community,\n\nThanks for your review and vote for "Release Apache HertzBeat\u2122 1.7.3-rc1"\nI\'m happy to announce the vote has passed:\n---\n4 binding +1, from:\n\n- cc\n\n1 non-binding +1, from:\n\n- Roc Marshal\n---\nno 0 or -1 votes.\n\nVote thread:\nhttps://lists.apache.org/thread/t01b2lbtqzyt7j4dsbdp5qjc3gngjsdq\n---\nThank you to everyone who helped us to verify and vote for this release. We will move to the ASF Incubator voting shortly.\n---\nBest,\nChunJin Mu\n'})}),"\n",(0,r.jsxs)(n.p,{children:["One item of the email content is ",(0,r.jsx)(n.code,{children:"Vote thread"}),", and the link is obtained here: ",(0,r.jsx)(n.a,{href:"https://lists.apache.org/list.html?dev@hertzbeat.apache.org",children:"https://lists.apache.org/list.html?dev@hertzbeat.apache.org"})]}),"\n",(0,r.jsx)(n.h2,{id:"4-complete-the-final-publishing-steps",children:"4. Complete the final publishing steps"}),"\n",(0,r.jsx)(n.h3,{id:"41-migrating-source-and-binary-packages",children:"4.1 Migrating source and binary packages"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'svn mv https://dist.apache.org/repos/dist/dev/hertzbeat/1.7.3-RC1 https://dist.apache.org/repos/dist/release/hertzbeat/1.7.3  -m "transfer packages for 1.7.3-RC1"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"42-add-the-new-version-download-address-to-the-official-website",children:"4.2 Add the new version download address to the official website"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/apache/hertzbeat/blob/master/home/docs/download.md",children:"https://github.com/apache/hertzbeat/blob/master/home/docs/download.md"}),"\n",(0,r.jsx)(n.a,{href:"https://github.com/apache/hertzbeat/blob/master/home/i18n/zh-cn/docusaurus-plugin-content-docs/current/download.md",children:"https://github.com/apache/hertzbeat/blob/master/home/i18n/zh-cn/docusaurus-plugin-content-docs/current/download.md"})]}),"\n",(0,r.jsxs)(n.p,{children:["Open the official website address ",(0,r.jsx)(n.a,{href:"https://hertzbeat.apache.org/docs/download/",children:"https://hertzbeat.apache.org/docs/download/"})," to see if there is a new version of the download"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"It should be noted that the download link may take effect after an hour, so please pay attention to it."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"43-generate-a-release-on-github",children:"4.3 Generate a release on github"}),"\n",(0,r.jsx)(n.p,{children:"Update pre-release to create a tag named v1.7.3 based on the release-1.7.3-rc1 branch, and set this tag to latest release."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"You can modify it on the original RC Release without creating a new Release."})}),"\n",(0,r.jsx)(n.p,{children:"Then enter Release Title and Describe"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Release Title:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"v1.7.3\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Describe:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"xxx\nrelease note: xxx\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then click the ",(0,r.jsx)(n.code,{children:"Publish release"})," button."]}),"\n",(0,r.jsx)(n.p,{children:"The rename the release-1.7.3-rc1 branch to release-1.7.3."}),"\n",(0,r.jsx)(n.h4,{id:"45-send-new-version-announcement-email",children:"4.5 Send new version announcement email"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Send to"}),": ",(0,r.jsx)(n.a,{href:"mailto:announce@apache.org",children:"announce@apache.org"})," ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"cc"}),": ",(0,r.jsx)(n.a,{href:"mailto:dev@hertzbeat.apache.org",children:"dev@hertzbeat.apache.org"})," ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Title"}),": [ANNOUNCE] Apache HertzBeat\u2122 1.7.3 released ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.code,{children:"Body"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"Hi Community,\n\nWe are glad to announce the release of Apache HertzBeat\u2122 1.7.3.\nThanks again for your help.\n\nApache HertzBeat\u2122 (https://hertzbeat.apache.org/) - A real-time observability system with agentless, performance cluster, prometheus-compatible, custom monitoring and status page building capabilities.\n\nDownload Link:\nhttps://hertzbeat.apache.org/docs/download/\n\nRelease Note:\nhttps://github.com/apache/hertzbeat/releases/tag/v1.7.3\n\nWebsite:\nhttps://hertzbeat.apache.org/\n\nHertzBeat Resources:\n- Issue: https://github.com/apache/hertzbeat/issues\n- Mailing list: dev@hertzbeat.apache.org\n---\nApache HertzBeat\u2122 Team\n---\nBest,\nChunJin Mu\n"})}),"\n",(0,r.jsx)(n.p,{children:"This version release is over."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["This doc refer from ",(0,r.jsx)(n.a,{href:"https://streampark.apache.org/",children:"Apache StreamPark"})]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);