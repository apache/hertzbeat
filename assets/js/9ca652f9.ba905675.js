"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[71108],{9091:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/ssl_5-2448fbdd26d0152f94055729942541e6.png"},13819:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>h,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"help/alert_threshold","title":"Alarm Threshold Configuration","description":"Alarm Threshold are the core function of HertzBeat, users can configure the trigger conditions of the alarm through the threshold rules.","source":"@site/versioned_docs/version-v1.6.x/help/alert_threshold.md","sourceDirName":"help","slug":"/help/alert_threshold","permalink":"/docs/v1.6.x/help/alert_threshold","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-v1.6.x/help/alert_threshold.md","tags":[],"version":"v1.6.x","frontMatter":{"id":"alert_threshold","title":"Alarm Threshold Configuration","sidebar_label":"Alarm Threshold"},"sidebar":"docs","previous":{"title":"Huawei switch","permalink":"/docs/v1.6.x/help/huawei_switch"},"next":{"title":"Threshold Trigger Expression","permalink":"/docs/v1.6.x/help/alert_threshold_expr"}}');var n=r(86070),s=r(45906);const l={id:"alert_threshold",title:"Alarm Threshold Configuration",sidebar_label:"Alarm Threshold"},o=void 0,h={},a=[{value:"Real-time Threshold",id:"real-time-threshold",level:2},{value:"Creating Threshold Rules",id:"creating-threshold-rules",level:3},{value:"Scheduled Threshold",id:"scheduled-threshold",level:2}];function d(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["Alarm Threshold are the core function of ",(0,n.jsx)(t.code,{children:"HertzBeat"}),", users can configure the trigger conditions of the alarm through the threshold rules.",(0,n.jsx)(t.br,{}),"\n","Support real-time threshold and scheduled threshold, real-time threshold can directly trigger the alarm when monitoring data is collected, scheduled threshold supports PromQL and other expressions to calculate the trigger alarm within a specified time period.",(0,n.jsx)(t.br,{}),"\n","Support visual page configuration or more flexible expression rule configuration, support configuring trigger times, alarm levels, notification templates, associated specified monitoring and so on."]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"threshold",src:r(67032).A+"",width:"1955",height:"926"})}),"\n",(0,n.jsx)(t.h2,{id:"real-time-threshold",children:"Real-time Threshold"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"Real-time threshold means that the alarm is triggered directly when the monitoring data is collected, which is suitable for scenarios with high real-time requirements."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"creating-threshold-rules",children:"Creating Threshold Rules"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"HertzBeat Page -> Alerting -> Threshold -> New Threshold -> ReadTime Threshold Rule"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Configure the threshold, for example: Select the SSL certificate metric object, configure the alarm expression-triggered when the metric ",(0,n.jsx)(t.code,{children:"expired"})," is ",(0,n.jsx)(t.code,{children:"true"}),", that is, ",(0,n.jsx)(t.code,{children:'equals(expired,"true")'}),", set the alarm level notification template information, etc."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"HertzBeat",src:r(9091).A+"",width:"1937",height:"890"})}),"\n",(0,n.jsx)(t.p,{children:"Configuration item details:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Rule Name"}),"\uff1aUnique name defining this threshold rule"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Metric Object"}),": Select the monitoring metric object for which we need to configure the threshold. For example: Under website monitoring type -> under the summary metric set -> responseTime metric."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Threshold Rule"}),": Configure the alarm trigger rules for specific indicators, support graphical interface and expression rules. For expression environment variables and operators, see the page prompts. For detailed help on threshold expressions, see ",(0,n.jsx)(t.a,{href:"alert_threshold_expr",children:"Threshold Expression Help"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Associated Monitors"}),"\uff1aApply this threshold rule to the specified monitoring object (support direct binding and label association). If not configured, it will be applied to all monitoring objects that meet this threshold type rule."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Alert Level"}),": The alert level triggered by the threshold, from low to high: warning, critical, emergency."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Trigger Count"}),": Set how many times the threshold must be triggered before the alert is actually triggered."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Notification Template"}),": The template for the notification message sent after the alert is triggered. Template variables are provided on the page. For example: ``app",(0,n.jsx)(t.code,{children:"."}),"metrics",(0,n.jsx)(t.code,{children:"."}),"metric",(0,n.jsx)(t.code,{children:"metric value is"}),"responseTime",(0,n.jsx)(t.code,{children:", which is greater than 50 triggering the alert"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Bind Label"}),": Select the label we need to apply. If no label is selected, it will apply to all services corresponding to the set metric object."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Bing Annotation"}),"\uff1aAdd annotation information to this threshold rule (the annotation content supports environment variables). When an alarm is generated, this annotation information will be rendered and attached to the alarm."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Enable Alert"}),": Enable or disable this alert threshold configuration."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"The threshold alert configuration is complete, and alerts that have been successfully triggered can be viewed in the [Alarm Center]."}),"\n",(0,n.jsx)(t.strong,{children:"If you need to send alert notifications via email, WeChat, DingTalk, or Feishu, you can configure it in [Notification]."})]}),"\n",(0,n.jsx)(t.h2,{id:"scheduled-threshold",children:"Scheduled Threshold"})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},45906:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>o});var i=r(30758);const n={},s=i.createContext(n);function l(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(s.Provider,{value:t},e.children)}},67032:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/alert-threshold-1-82dbbb56396a879b2ace555f51de5d60.png"}}]);