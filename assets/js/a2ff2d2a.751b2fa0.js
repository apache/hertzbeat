"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[36679],{45906:(e,t,r)=>{r.d(t,{R:()=>d,x:()=>l});var n=r(30758);const i={},s=n.createContext(i);function d(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(s.Provider,{value:t},e.children)}},61118:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"help/influxdb_promql","title":"Monitoring InfluxDB-PromQL","description":"Monitor InfluxDB by querying generic metrics data from Prometheus server using Prometheus PromQL. This approach is suitable when Prometheus is already monitoring InfluxDB and you need to fetch InfluxDB\'s monitoring data from Prometheus server.","source":"@site/versioned_docs/version-v1.6.x/help/influxdb_promql.md","sourceDirName":"help","slug":"/help/influxdb_promql","permalink":"/docs/v1.6.x/help/influxdb_promql","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-v1.6.x/help/influxdb_promql.md","tags":[],"version":"v1.6.x","frontMatter":{"id":"influxdb_promql","title":"Monitoring InfluxDB-PromQL","sidebar_label":"InfluxDB-PromQL","keywords":["Open Source Monitoring System","InfluxDB Monitoring","InfluxDB-PromQL Monitoring"]},"sidebar":"docs","previous":{"title":"Kafka-PromQL","permalink":"/docs/v1.6.x/help/kafka_promql"},"next":{"title":"Huawei switch","permalink":"/docs/v1.6.x/help/huawei_switch"}}');var i=r(86070),s=r(45906);const d={id:"influxdb_promql",title:"Monitoring InfluxDB-PromQL",sidebar_label:"InfluxDB-PromQL",keywords:["Open Source Monitoring System","InfluxDB Monitoring","InfluxDB-PromQL Monitoring"]},l=void 0,c={},o=[{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"Metrics Collection",id:"metrics-collection",level:3},{value:"Metric Set: basic_influxdb_memstats_alloc",id:"metric-set-basic_influxdb_memstats_alloc",level:4},{value:"Metric Set: influxdb_database_numMeasurements",id:"metric-set-influxdb_database_nummeasurements",level:4},{value:"Metric Set: influxdb_query_rate_seconds",id:"metric-set-influxdb_query_rate_seconds",level:4},{value:"Metric Set: influxdb_queryExecutor_queriesFinished_10s",id:"metric-set-influxdb_queryexecutor_queriesfinished_10s",level:4}];function h(e){const t={blockquote:"blockquote",h3:"h3",h4:"h4",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Monitor InfluxDB by querying generic metrics data from Prometheus server using Prometheus PromQL. This approach is suitable when Prometheus is already monitoring InfluxDB and you need to fetch InfluxDB's monitoring data from Prometheus server."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter Name"}),(0,i.jsx)(t.th,{children:"Parameter help description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitoring Host"}),(0,i.jsx)(t.td,{children:"IP, IPv6, or domain name of the target being monitored. Note \u26a0\ufe0f: Do not include protocol header (e.g., https://, http://)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Monitoring name"}),(0,i.jsx)(t.td,{children:"Name to identify this monitoring, ensuring uniqueness of names."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Port"}),(0,i.jsx)(t.td,{children:"Prometheus API port, default: 9090."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Relative path"}),(0,i.jsx)(t.td,{children:"Relative path of Prometheus to query PromQL, default: /api/v1/query"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Request mode"}),(0,i.jsx)(t.td,{children:"Set the request method for API calls: GET, POST, PUT, DELETE, default: GET"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Enable HTTPS"}),(0,i.jsx)(t.td,{children:"Whether to access the website via HTTPS, note \u26a0\ufe0f: enabling HTTPS generally requires changing the corresponding port to 443"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Username"}),(0,i.jsx)(t.td,{children:"Username for Basic or Digest authentication when accessing the API."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Password"}),(0,i.jsx)(t.td,{children:"Password for Basic or Digest authentication when accessing the API."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Content-Type"}),(0,i.jsx)(t.td,{children:"Resource type when carrying BODY request data."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Request BODY"}),(0,i.jsx)(t.td,{children:"Set the BODY request data, effective for PUT and POST request methods."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Collection interval"}),(0,i.jsx)(t.td,{children:"Interval for periodic data collection in seconds, the minimum interval that can be set is 30 seconds"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Description remarks"}),(0,i.jsx)(t.td,{children:"Additional remarks and descriptions for this monitoring. Users can add notes here."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"metrics-collection",children:"Metrics Collection"}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-basic_influxdb_memstats_alloc",children:"Metric Set: basic_influxdb_memstats_alloc"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Metric Unit"}),(0,i.jsx)(t.th,{children:"Metric help description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"instance"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Instance to which the metric belongs"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timestamp"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Timestamp of metric collection"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"value"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Metric value"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-influxdb_database_nummeasurements",children:"Metric Set: influxdb_database_numMeasurements"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Metric Unit"}),(0,i.jsx)(t.th,{children:"Metric help description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"job"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Metric name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"instance"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Instance to which the metric belongs"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"database"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Name of the database"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timestamp"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Timestamp of metric collection"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"value"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Metric value"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-influxdb_query_rate_seconds",children:"Metric Set: influxdb_query_rate_seconds"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Metric Unit"}),(0,i.jsx)(t.th,{children:"Metric help description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"instance"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Instance to which the metric belongs"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timestamp"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Timestamp of metric collection"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"value"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Metric value"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-set-influxdb_queryexecutor_queriesfinished_10s",children:"Metric Set: influxdb_queryExecutor_queriesFinished_10s"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"Metric Unit"}),(0,i.jsx)(t.th,{children:"Metric help description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"instance"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Instance to which the metric belongs"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timestamp"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Timestamp of metric collection"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"value"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Metric value"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);