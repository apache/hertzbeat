"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[7345],{23485:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"help/spring_gateway","title":"spring_gateway","description":"Collect and monitor the general performance metrics exposed by the SpringBoot actuator.","source":"@site/versioned_docs/version-1.6.x/help/spring_gateway.md","sourceDirName":"help","slug":"/help/spring_gateway","permalink":"/docs/1.6.x/help/spring_gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.6.x/help/spring_gateway.md","tags":[],"version":"1.6.x","frontMatter":{"id":"spring_gateway","Title":"Monitoring Spring Gateway","sidebar_label":"Spring Gateway","keywords":["open source monitoring tool","open source spring gateway monitoring tool","monitoring spring gateway metrics"]},"sidebar":"docs","previous":{"title":"Apache ShenYu","permalink":"/docs/1.6.x/help/shenyu"},"next":{"title":"Zookeeper Monitor","permalink":"/docs/1.6.x/help/zookeeper"}}');var i=n(86070),o=n(45906);const s={id:"spring_gateway",Title:"Monitoring Spring Gateway",sidebar_label:"Spring Gateway",keywords:["open source monitoring tool","open source spring gateway monitoring tool","monitoring spring gateway metrics"]},c=void 0,d={},l=[{value:"Pre-monitoring operations",id:"pre-monitoring-operations",level:2},{value:"Configure parameters",id:"configure-parameters",level:3},{value:"Collect metrics",id:"collect-metrics",level:3},{value:"metric Collection: Health",id:"metric-collection-health",level:4},{value:"metric Collection: enviroment",id:"metric-collection-enviroment",level:4},{value:"metric Collection: threads",id:"metric-collection-threads",level:4},{value:"metric Collection: memory_used",id:"metric-collection-memory_used",level:4},{value:"metric Collection: route_info",id:"metric-collection-route_info",level:4}];function h(e){const t={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Collect and monitor the general performance metrics exposed by the SpringBoot actuator."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"pre-monitoring-operations",children:"Pre-monitoring operations"}),"\n",(0,i.jsx)(t.p,{children:"If you want to monitor information in 'Spring Gateway' with this monitoring type, you need to integrate your SpringBoot application and enable the SpringBoot Actuator."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"1\u3001Add POM .XML dependencies:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"2. Modify the YML configuration exposure metric interface:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"management:\n  endpoint:\n    gateway:\n      enabled: true # default value\n  endpoints:\n    web:\n      exposure:\n        include: '*'\n    enabled-by-default: on\n"})}),"\n",(0,i.jsx)(t.h3,{id:"configure-parameters",children:"Configure parameters"}),"\n",(0,i.jsx)(t.p,{children:"|       Parameter name        |                                                    Parameter Help describes the                                                     |\n|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n| Monitor Host                | THE MONITORED PEER IPV4, IPV6 OR DOMAIN NAME. Note \u26a0\ufe0f that there are no protocol headers (eg: https://, http://).                   |\n| Monitoring Name             | A name that identifies this monitoring that needs to be unique.                                                                     |\n| Port                        | The default port provided by the database is 8080.                                                                                  |\n| Enable HTTPS                | Whether to access the website through HTTPS, please note that \u26a0\ufe0f when HTTPS is enabled, the default port needs to be changed to 443 |\n| The acquisition interval is | Monitor the periodic data acquisition interval, in seconds, and the minimum interval that can be set is 30 seconds                  |\n| Whether to probe the        | Whether to check the availability of the monitoring before adding a monitoring is successful, and the new modification operation    | will continue only if the probe is successful |\n| Description Comment         | For more information identifying and describing the remarks for this monitoring, users can remark the information here              |"}),"\n",(0,i.jsx)(t.h3,{id:"collect-metrics",children:"Collect metrics"}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-health",children:"metric Collection: Health"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"status"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Service health: UP, Down"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-enviroment",children:"metric Collection: enviroment"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"profile"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"The application runs profile: prod, dev, test"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"port"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Apply the exposed port"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"os_arch"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Run the operating system architecture"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jdk_vendor"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jdk vendor"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"jvm_version"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"jvm version"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-threads",children:"metric Collection: threads"}),"\n",(0,i.jsx)(t.p,{children:"| Metric Name | metric unit |      Metrics help describe       |\n|-------------|-------------|----------------------------------|-------------------|\n| state       | None        | Thread status                    |\n| number      | None        | This thread state corresponds to | number of threads |"}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-memory_used",children:"metric Collection: memory_used"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"space"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Memory space name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"mem_used"}),(0,i.jsx)(t.td,{children:"MB"}),(0,i.jsx)(t.td,{children:"This space occupies a memory size of"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"metric-collection-route_info",children:"metric Collection: route_info"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Metric Name"}),(0,i.jsx)(t.th,{children:"metric unit"}),(0,i.jsx)(t.th,{children:"Metrics help describe"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"route_id"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Route id"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"predicate"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This is a routing matching rule"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"uri"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"This is a service resource identifier"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"order"}),(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"The priority of this route"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},45906:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var r=n(30758);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);