"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[20261],{4791(e,a,n){n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"help/grafana_dashboard","title":"Grafana Dashboard","description":"Grafana is an open source visualization and analytics platform that helps you easily create, share and monitor dashboards. In this article, we will cover how to use Grafana to display historical data in HertzBeat.","source":"@site/versioned_docs/version-1.6.x/help/grafana_dashboard.md","sourceDirName":"help","slug":"/help/grafana_dashboard","permalink":"/docs/1.6.x/help/grafana_dashboard","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-1.6.x/help/grafana_dashboard.md","tags":[],"version":"1.6.x","frontMatter":{"id":"grafana_dashboard","title":"Grafana Dashboard","sidebar_label":"Grafana Historical Charts","keywords":["Grafana","Historical Dashboard"]},"sidebar":"docs","previous":{"title":"Time Expression","permalink":"/docs/1.6.x/help/time_expression"},"next":{"title":"Collector","permalink":"/docs/1.6.x/help/collector"}}');var t=n(86070),i=n(60056);const o={id:"grafana_dashboard",title:"Grafana Dashboard",sidebar_label:"Grafana Historical Charts",keywords:["Grafana","Historical Dashboard"]},s=void 0,d={},l=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"enable Grafana embedded url",id:"enable-grafana-embedded-url",level:3},{value:"Configuring Grafana in HertzBeat",id:"configuring-grafana-in-hertzbeat",level:3},{value:"Upload Grafana monitor template json file in HertzBeat monitor",id:"upload-grafana-monitor-template-json-file-in-hertzbeat-monitor",level:3},{value:"View Grafana historical charts",id:"view-grafana-historical-charts",level:3}];function c(e){const a={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"Grafana"})," is an open source visualization and analytics platform that helps you easily create, share and monitor dashboards. In this article, we will cover how to use ",(0,t.jsx)(a.code,{children:"Grafana"})," to display historical data in ",(0,t.jsx)(a.code,{children:"HertzBeat"}),"."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["The ",(0,t.jsx)(a.code,{children:"Grafana"})," version 8.1.0 or later is installed and running."]}),"\n",(0,t.jsxs)(a.li,{children:["The ",(0,t.jsx)(a.code,{children:"Grafana"})," service is started and the account password is configured."]}),"\n",(0,t.jsxs)(a.li,{children:["The ",(0,t.jsx)(a.code,{children:"HertzBeat"})," service is started and the ",(0,t.jsx)(a.code,{children:"VictoriaMetrics"})," time-series database is configured (note: the ",(0,t.jsx)(a.code,{children:"VictoriaMetrics"})," data source is required)."]}),"\n"]}),"\n",(0,t.jsx)(a.admonition,{title:"Caution.",type:"caution",children:(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"Grafana"})," can only show historical data for ",(0,t.jsx)(a.code,{children:"Prometheus"})," type of monitoring, currently it does not support monitoring data defined by ",(0,t.jsx)(a.code,{children:"yml"})," in ",(0,t.jsx)(a.code,{children:"HertzBeat"}),"."]})}),"\n",(0,t.jsx)(a.h3,{id:"enable-grafana-embedded-url",children:"enable Grafana embedded url"}),"\n",(0,t.jsxs)(a.p,{children:["ref: ",(0,t.jsx)(a.a,{href:"https://grafana.com/blog/2023/10/10/how-to-embed-grafana-dashboards-into-web-applications/",children:"https://grafana.com/blog/2023/10/10/how-to-embed-grafana-dashboards-into-web-applications/"}),"\nIn the ",(0,t.jsx)(a.code,{children:"Grafana"})," configuration file ",(0,t.jsx)(a.code,{children:"grafana.ini"}),", set the ",(0,t.jsx)(a.code,{children:"allow_embedding = true"}),".\nIn the ",(0,t.jsx)(a.code,{children:"Grafana"})," configuration file ",(0,t.jsx)(a.code,{children:"grafana.ini"}),", set the ",(0,t.jsx)(a.code,{children:"[auth.anonymous]"})," option to ",(0,t.jsx)(a.code,{children:"true"}),"."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-ini",children:"allow_embedding = true\n[auth.anonymous]\n# enable anonymous access\nenabled = true\n"})}),"\n",(0,t.jsx)(a.h3,{id:"configuring-grafana-in-hertzbeat",children:"Configuring Grafana in HertzBeat"}),"\n",(0,t.jsxs)(a.p,{children:["In the configuration file ",(0,t.jsx)(a.code,{children:"application.yml"})," in ",(0,t.jsx)(a.code,{children:"HertzBeat"}),", configure the ",(0,t.jsx)(a.code,{children:"Grafana"})," data source."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-yaml",children:"grafana:\n  enabled: true\n  url: http://127.0.0.1:3000\n  username: admin\n  password: admin\n"})}),"\n",(0,t.jsx)(a.h3,{id:"upload-grafana-monitor-template-json-file-in-hertzbeat-monitor",children:"Upload Grafana monitor template json file in HertzBeat monitor"}),"\n",(0,t.jsxs)(a.p,{children:["In ",(0,t.jsx)(a.code,{children:"HertzBeat"}),", when creating or editing a ",(0,t.jsx)(a.code,{children:"Prometheus"})," type monitor, click Enable Grafana Templates and select the Grafana template json file to upload.\nThe monitor template json file can be downloaded at ",(0,t.jsx)(a.a,{href:"https://grafana.com/grafana/dashboards/",children:"https://grafana.com/grafana/dashboards/"}),".\nFor example, create a new monitor in ",(0,t.jsx)(a.code,{children:"HertzBeat"})," for ",(0,t.jsx)(a.code,{children:"VictoriaMetrics"})," single node, then open ",(0,t.jsx)(a.a,{href:"https://grafana.com/grafana/dashboards/10229-victoriametrics-single-node/",children:"https://grafana.com/grafana/dashboards/10229-victoriametrics-single-node/"}),", click ",(0,t.jsx)(a.code,{children:"Download JSON"})," button on the right side. ",(0,t.jsx)(a.code,{children:"Download JSON"})," button on the right to download the template json file. Upload the template json file in the ",(0,t.jsx)(a.code,{children:"HertzBeat"})," monitor, save it.\n",(0,t.jsx)(a.img,{alt:"grafana-1.png",src:n(83734).A+"",width:"1905",height:"926"})]}),"\n",(0,t.jsx)(a.h3,{id:"view-grafana-historical-charts",children:"View Grafana historical charts"}),"\n",(0,t.jsxs)(a.p,{children:["On the ",(0,t.jsx)(a.code,{children:"HertzBeat"})," monitoring page, click the ",(0,t.jsx)(a.code,{children:"Grafana"})," button, select ",(0,t.jsx)(a.code,{children:"Grafana"})," Historical Charts, select a monitoring template, and click the ",(0,t.jsx)(a.code,{children:"Query"})," button to view the ",(0,t.jsx)(a.code,{children:"Grafana"})," historical charts.\n",(0,t.jsx)(a.img,{alt:"grafana-2.png",src:n(15501).A+"",width:"1903",height:"927"})]})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},83734(e,a,n){n.d(a,{A:()=>r});const r=n.p+"assets/images/grafana-1-ca9ca2e4cf00038b9eac8b029da18f08.png"},15501(e,a,n){n.d(a,{A:()=>r});const r=n.p+"assets/images/grafana-2-29979a6a7acbb70c333142c69413520a.png"},60056(e,a,n){n.d(a,{R:()=>o,x:()=>s});var r=n(30758);const t={},i=r.createContext(t);function o(e){const a=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:a},e.children)}}}]);