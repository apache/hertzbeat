---
id: log_manage
title: 日志管理
sidebar_label: 日志管理
keywords: [开源监控, 日志管理, 日志查询, 日志统计, 日志删除]
---

> HertzBeat 的日志管理功能提供了完整的日志数据管理能力，包括日志查询、统计分析、批量删除等操作。用户可以通过多种过滤条件精确查找日志，查看详细的统计图表，并对不需要的日志数据进行清理。

## 前置要求

**在使用日志管理功能之前，必须先配置支持日志存储的数据库。**

## 功能概览

在 HertzBeat 界面中，进入"日志" -> "日志管理"页面，你将看到一个功能完整的日志管理界面。

![log_manage](/img/docs/help/log_manage_cn.png)

## 日志查询功能

### 过滤条件

日志管理支持以下过滤条件进行精确查询：

#### 时间范围

- **格式**：支持日期时间选择器
- **示例**：2024-01-01 00:00:00 至 2024-01-02 00:00:00

#### 跟踪ID (Trace ID)

- **字段名称**：`traceId`
- **数据类型**：字符串
- **用途**：分布式系统中的请求链路跟踪
- **示例**：`1234567890abcdef`

#### 跨度ID (Span ID)

- **字段名称**：`spanId`  
- **数据类型**：字符串
- **用途**：跟踪中特定操作的标识
- **示例**：`abcdef1234567890`

#### 严重程度编号

- **字段名称**：`severityNumber`
- **数据类型**：数字
- **取值范围**：1-24（符合 OpenTelemetry 规范）

#### 严重程度文本

- **字段名称**：`severityText`
- **数据类型**：字符串
- **常见取值**：TRACE、DEBUG、INFO、WARN、ERROR、FATAL
- **示例**：输入 `ERROR` 查询错误级别日志

## 统计分析

### 统计概览

![log_manage_chart](/img/docs/help/log_manage_chart_cn.png)

点击"显示统计"按钮展开统计分析区域，包含：

#### 基础统计卡片

- **总日志数**：显示符合条件的日志总数
- **FATAL 日志数**：FATAL 级别日志统计
- **ERROR 日志数**：ERROR 级别日志统计  
- **WARN 日志数**：WARN 级别日志统计
- **INFO 日志数**：INFO 级别日志统计
- **DEBUG 日志数**：DEBUG 级别日志统计

### 可视化图表

#### 严重程度分布图

- **类型**：饼图
- **内容**：展示不同日志级别的数量分布
- **用途**：快速了解日志严重程度分布情况

#### 跟踪覆盖率图

- **类型**：饼图
- **内容**：显示带有跟踪信息的日志比例
- **包含指标**：
  - 带 Trace ID 的日志数量
  - 带 Span ID 的日志数量
  - 同时带 Trace 和 Span 的日志数量
  - 无跟踪信息的日志数量

#### 日志趋势图

- **类型**：时间线图
- **内容**：按小时统计的日志数量变化趋势
- **用途**：分析日志产生的时间模式和异常峰值

## 日志显示

### 列显示配置

点击"列设置"按钮可以自定义表格显示的列：

#### 可配置列

- **时间**：日志生成时间戳
- **观察时间**：日志被观察到的时间
- **严重程度**：日志级别标签
- **日志内容**：主要消息内容
- **属性**：日志附加属性信息
- **资源**：资源相关信息
- **Trace ID**：分布式跟踪标识
- **Span ID**：操作跨度标识
- **Trace 标记**：跟踪标记信息
- **instrumentation scope 信息**：instrumentation scope 信息
- **丢弃计数**：丢弃的属性数量

## 日志详情查看

### 查看日志详情

点击表格中的任意日志条目可打开详情弹窗：

![log_manage](/img/docs/help/log_manage_log_details_cn.png)

#### 基本信息区域

- **严重程度**：显示级别标签和颜色标识
- **时间戳**：格式化显示的详细时间
- **跟踪ID**：完整的分布式跟踪标识符
- **跨度ID**：完整的操作跨度标识符

#### 完整JSON数据

- **原始数据**：显示日志条目的完整 JSON 格式
- **复制功能**：支持一键复制到剪贴板
- **格式化显示**：JSON 数据进行了格式化处理便于阅读

## 批量删除功能

### 选择和删除

1. **选择日志**：通过表格左侧的复选框选择需要删除的日志
2. **全选功能**：使用表头的复选框可以全选当前页面的日志
3. **批量删除**：点击"批量删除"按钮删除选中的日志
4. **删除计数**：按钮上显示当前选中的日志数量

## 故障排除

### 无法查看日志

**症状**：页面显示"无数据"或加载失败
**解决方案**：

1. 检查是否已正确配置时序数据库
2. 确认数据库服务正常运行
3. 验证数据库连接配置是否正确
4. 检查是否有日志数据写入数据库

如需了解更多日志管理功能或遇到技术问题，欢迎通过 [GitHub Issues](https://github.com/apache/hertzbeat/issues) 与社区交流。
