---
id: huawei_switch
title: 监控：华为通用交换机
sidebar_label: 华为通用交换机
keywords: [ 开源监控系统, 网络监控, 华为通用交换机监控 ]
---

> 对 华为交换机 的通用指标(可用性，系统信息，端口流量等)进行采集监控。

**使用协议：SNMP**

### 配置参数

| 参数名称                | 参数帮助描述                                                                                                                        |
|---------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 目标Host              | 被监控的对端IPV4，IPV6或域名。注意⚠️不带协议头(eg: https://, http://)。                                                                          |
| 任务名称                | 标识此监控的名称，名称需要保证唯一性。                                                                                                           |
| 端口                  | SNMP端口号，默认为161                                                                                                                |
| SNMP 版本             | 所使用的SNMP版本                                                                                                                    |
| SNMP 团体字            | 用于SNMP v1 和 SNMP v2c，用于在SNMP Agent完成认证，字符串形式。团体名包括“read”和“write”两种，执行SNMP查询操作时，采用“read”团体名进行认证；执行SNMP设置操作时，则采用“write”团体名进行认证。 |
| SNMP username       | 用于SNMP v3，MSG 用户名                                                                                                             |
| SNMP contextName    | 用于SNMP v3，用于确定Context EngineID对被管理设备的MIB视图。                                                                                   |
| SNMP authPassword   | 用于SNMP v3，SNMP 认证密码                                                                                                           |
| authPassword 加密方式   | 用于SNMP v3，SNMP 认证算法                                                                                                           |
| SNMP privPassphrase | 用于SNMP v3，SNMP 加密密码                                                                                                           |
| privPassword 加密方式   | 用于SNMP v3，SNMP 加密算法                                                                                                           |
| 查询超时时间              | 设置查询未响应数据时的超时时间，单位ms毫秒，默认6000毫秒。                                                                                              |
| 采集间隔	               | 监控周期性采集数据的时间间隔，单位为秒，最小间隔为 30 秒。                                                                                               |
| 描述备注	               | 用于添加关于监控的额外标识和描述信息。                                                                                                           |

### 采集指标

由于华为通用交换机可查询的指标过多，详细的指标可于[华为MIB查询平台](https://info.support.huawei.com/info-finder/tool/zh/enterprise/mib)
进行查询。

此文档仅介绍监控模板中查询的监控指标。

#### 指标集合：huawei_core

| 指标名称          | 指标单位   | 指标帮助描述                                                                                                                                                                                                                                                                         |
|---------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ifIndex       | 无      | 接口索引 该值大于零且全局唯一。                                                                                                                                                                                                                                                               |
| ifDescr       | 无      | 描述接口的字符串，应该包含制造商、产品名和接口软硬件的版本。                                                                                                                                                                                                                                                 |
| ifMtu         | octets | 最大传输单元。接口上可以传送的最大报文的大小。对于传输网络数据报的接口，这是接口可以传输的最大数据报的大小。                                                                                                                                                                                                                         |
| ifSpeed       | 比特/秒   | 估计的接口当前带宽。对于带宽无法改变或者无法准确估计的接口，该项为额定带宽值。 如果接口的带宽比该表项的值大，则该表项的值是其最大值（4,294,967,295），并且ifHighSpeed的值是接口的速率。对于没有速率概念的子层接口，该表项的值为零。                                                                                                                                                 |
| ifInOctets    | octets | 该接口入方向通过的总字节数，包括分桢的数据。在管理系统的重新初始化和ifCounterDiscontinuityTime项指定的时间内，该节点的值将出现不连续的情况。                                                                                                                                                                                            |
| ifInDiscards  | 无      | 入方向的被丢弃的报文个数，即使没有错误发生。也将阻止这些报文送往上层协议。 一个可能的原因是释放buffer的空间。在管理系统的重新初始化和ifCounterDiscontinuityTime项指定的时间内，该节点的值将出现不连续的情况。                                                                                                                                                        |
| ifInErrors    | 无      | 出错而不会被送往上层协议的报文/传输单元个数。在管理系统的重新初始化和ifCounterDiscontinuityTime项指定的时间内，该节点的值将出现不连续的情况。                                                                                                                                                                                           |
| ifOutOctets   | octets | 该接口出方向通过的总字节数，包括分桢的数据。在管理系统的重新初始化和ifCounterDiscontinuityTime项指定的时间内，该节点的值将出现不连续的情况。                                                                                                                                                                                            |
| ifOutDiscards | 无      | 	出方向的被丢弃的报文个数，即使没有错误发生。也将阻止这些报文发送。丢弃此类报文的一个可能原因是为了释放缓冲区空间。 在管理系统的重新初始化和ifCounterDiscontinuityTime项指定的时间内，该节点的值将出现不连续的情况。                                                                                                                                                       |
| ifOutErrors   | 无      | 对于面向数据包的接口，该节点表示由于错误而无法发送的数据包数量。对于面向字符或固定长度接口，该节点表示由于错误而无法传输的传输单元的数量。这种计数器的值可能在管理系统的重新初始化时会不连续，其他时间如ifCounterDiscontinuityTime的值。                                                                                                                                              |
| ifAdminStatus | 无      | 接口的理想状态。 testing（3）状态表示没有可操作的数据包通过。 当受管系统初始化时，全部接口开始于ifAdminStatus在down（2）状态。由于明确的管理动作或被管理的系统保留的每个配置信息，ifAdminStatus然后被更改为Up（1）或testing（3）状态（或保留在down（2）状态）。                                                                                                                   |
| ifOperStatus  | 无      | 当前接口的操作状态。testing(3)状态表示没有可操作的数据包可以通过。如果ifAdminStatus是down(2)，则ifOperStatus应该是down（2）。 如果ifAdminStatus是改为up（1），则ifOperStatus应该更改为up（1）。如果接口准备好传输，接收网络流量; 它应该改为dormant(5)。如果接口正在等待外部动作（如串行线路等待传入连接）; 它应该保持在down(2)状态，并且只有当有故障阻止它变成up(1)状态。 它应该留在notPresent（6）状态如果接口缺少（通常为硬件）组件。 |
