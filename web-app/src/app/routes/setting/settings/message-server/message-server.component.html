<nz-spin [nzSpinning]="loading">
  <nz-list nzItemLayout="horizontal">
    <nz-list-item [nzActions]="[emailOp]">
      <ng-template #emailOp>
        <a (click)="onConfigEmailServer()">{{ 'common.button.setting' | i18n }}</a>
      </ng-template>
      <nz-list-item-meta [nzTitle]="'settings.server.email' | i18n" [nzDescription]="emailDesc">
        <ng-template #emailDesc>
          {{ 'settings.security.password.advice' | i18n }}ï¼š<span class="text-green">{{
            'settings.security.password.level.2' | i18n
          }}</span>
        </ng-template>
      </nz-list-item-meta>
    </nz-list-item>
    <nz-list-item [nzActions]="[phoneOp]">
      <ng-template #phoneOp>
        <a disabled>
          {{ 'common.button.setting' | i18n }}
        </a>
      </ng-template>
      <nz-list-item-meta [nzTitle]="'settings.server.sms' | i18n" [nzDescription]="phoneDesc">
        <ng-template #phoneDesc>
          {{ 'settings.security.phone.bind' | i18n }}
          <span class="text-green">{{ 'settings.security.phone.yes-verify' | i18n }}</span>
        </ng-template>
      </nz-list-item-meta>
    </nz-list-item>
  </nz-list>
</nz-spin>

<!-- email server modal -->
<nz-modal
  [(nzVisible)]="isEmailServerModalVisible"
  (nzOnCancel)="onCancelEmailServer()"
  (nzOnOk)="onConfigEmailServer()"
  nzMaskClosable="false"
  nzWidth="40%"
  [nzOkLoading]="senderServerLoading"
>
  <div *nzModalContent class="-inner-content">
    <form nz-form #senderForm="ngForm">
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="emailHost" nzRequired="true">{{ 'alert.notice.sender.mail.host' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="sender.emailHost" nz-input required name="emailHost" type="text" id="emailHost" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="emailPort" nzRequired="true">{{ 'alert.notice.sender.mail.port' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="sender.emailPort" nz-input required name="emailPort" type="number" id="emailPort" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="emailUsername" nzRequired="true">{{ 'alert.notice.sender.mail.username' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="sender.emailUsername" nz-input name="emailUsername" type="text" id="emailUsername" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzFor="emailPassword" nzRequired="true">{{ 'alert.notice.sender.mail.password' | i18n }}</nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="'validation.required' | i18n">
          <input [(ngModel)]="sender.emailPassword" nz-input name="emailPassword" type="password" id="emailPassword" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzSpan="7" nzFor="emailEnable" nzRequired="true">{{ 'alert.notice.rule.enable' | i18n }}</nz-form-label>
        <nz-form-control nzSpan="12">
          <nz-switch [(ngModel)]="sender.emailEnable" name="emailEnable" id="emailEnable"></nz-switch>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</nz-modal>
