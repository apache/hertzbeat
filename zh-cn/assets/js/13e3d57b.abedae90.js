"use strict";(globalThis.webpackChunkhertzbeat=globalThis.webpackChunkhertzbeat||[]).push([[53825],{45906:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>c});var t=s(30758);const n={},d=t.createContext(n);function i(e){const r=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(d.Provider,{value:r},e.children)}},85120:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"help/sqlserver","title":"\u76d1\u63a7\uff1aSqlServer\u6570\u636e\u5e93\u76d1\u63a7","description":"\u5bf9SqlServer\u6570\u636e\u5e93\u7684\u901a\u7528\u6027\u80fd\u6307\u6807\u8fdb\u884c\u91c7\u96c6\u76d1\u63a7\u3002\u652f\u6301SqlServer 2017+\u3002","source":"@site/i18n/zh-cn/docusaurus-plugin-content-docs/version-1.6.x/help/sqlserver.md","sourceDirName":"help","slug":"/help/sqlserver","permalink":"/zh-cn/docs/1.6.x/help/sqlserver","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hertzbeat/edit/master/home/i18n/zh-cn/docusaurus-plugin-content-docs/version-1.6.x/help/sqlserver.md","tags":[],"version":"1.6.x","frontMatter":{"id":"sqlserver","title":"\u76d1\u63a7\uff1aSqlServer\u6570\u636e\u5e93\u76d1\u63a7","sidebar_label":"SqlServer\u6570\u636e\u5e93","keywords":["\u5f00\u6e90\u76d1\u63a7\u7cfb\u7edf","\u5f00\u6e90\u6570\u636e\u5e93\u76d1\u63a7","SqlServer\u6570\u636e\u5e93\u76d1\u63a7"]},"sidebar":"docs","previous":{"title":"Kingbase\u6570\u636e\u5e93","permalink":"/zh-cn/docs/1.6.x/help/kingbase"},"next":{"title":"ORACLE\u6570\u636e\u5e93","permalink":"/zh-cn/docs/1.6.x/help/oracle"}}');var n=s(86070),d=s(45906);const i={id:"sqlserver",title:"\u76d1\u63a7\uff1aSqlServer\u6570\u636e\u5e93\u76d1\u63a7",sidebar_label:"SqlServer\u6570\u636e\u5e93",keywords:["\u5f00\u6e90\u76d1\u63a7\u7cfb\u7edf","\u5f00\u6e90\u6570\u636e\u5e93\u76d1\u63a7","SqlServer\u6570\u636e\u5e93\u76d1\u63a7"]},c=void 0,l={},h=[{value:"\u914d\u7f6e\u53c2\u6570",id:"\u914d\u7f6e\u53c2\u6570",level:3},{value:"\u91c7\u96c6\u6307\u6807",id:"\u91c7\u96c6\u6307\u6807",level:3},{value:"\u6307\u6807\u96c6\u5408\uff1abasic",id:"\u6307\u6807\u96c6\u5408basic",level:4},{value:"\u6307\u6807\u96c6\u5408\uff1aperformance_counters",id:"\u6307\u6807\u96c6\u5408performance_counters",level:4},{value:"\u6307\u6807\u96c6\u5408\uff1aconnection",id:"\u6307\u6807\u96c6\u5408connection",level:4},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:3}];function x(e){const r={a:"a",blockquote:"blockquote",br:"br",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"\u5bf9SqlServer\u6570\u636e\u5e93\u7684\u901a\u7528\u6027\u80fd\u6307\u6807\u8fdb\u884c\u91c7\u96c6\u76d1\u63a7\u3002\u652f\u6301SqlServer 2017+\u3002"}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"\u914d\u7f6e\u53c2\u6570",children:"\u914d\u7f6e\u53c2\u6570"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"\u53c2\u6570\u540d\u79f0"}),(0,n.jsx)(r.th,{children:"\u53c2\u6570\u5e2e\u52a9\u63cf\u8ff0"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u76d1\u63a7Host"}),(0,n.jsx)(r.td,{children:"\u88ab\u76d1\u63a7\u7684\u5bf9\u7aefIPV4\uff0cIPV6\u6216\u57df\u540d\u3002\u6ce8\u610f\u26a0\ufe0f\u4e0d\u5e26\u534f\u8bae\u5934(eg: https://, http://)\u3002"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u4efb\u52a1\u540d\u79f0"}),(0,n.jsx)(r.td,{children:"\u6807\u8bc6\u6b64\u76d1\u63a7\u7684\u540d\u79f0\uff0c\u540d\u79f0\u9700\u8981\u4fdd\u8bc1\u552f\u4e00\u6027\u3002"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u7aef\u53e3"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u5bf9\u5916\u63d0\u4f9b\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u4e3a1433\u3002"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u67e5\u8be2\u8d85\u65f6\u65f6\u95f4"}),(0,n.jsx)(r.td,{children:"\u8bbe\u7f6eSQL\u67e5\u8be2\u672a\u54cd\u5e94\u6570\u636e\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4dms\u6beb\u79d2\uff0c\u9ed8\u8ba43000\u6beb\u79d2\u3002"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u540d\u79f0"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u5b9e\u4f8b\u540d\u79f0\uff0c\u53ef\u9009\u3002"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u7528\u6237\u540d"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u8fde\u63a5\u7528\u6237\u540d\uff0c\u53ef\u9009"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u5bc6\u7801"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u8fde\u63a5\u5bc6\u7801\uff0c\u53ef\u9009"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"URL"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u8fde\u63a5URL\uff0c\u53ef\u9009\uff0c\u82e5\u914d\u7f6e\uff0c\u5219URL\u91cc\u9762\u7684\u6570\u636e\u5e93\u540d\u79f0\uff0c\u7528\u6237\u540d\u5bc6\u7801\u7b49\u53c2\u6570\u4f1a\u8986\u76d6\u4e0a\u9762\u914d\u7f6e\u7684\u53c2\u6570"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u91c7\u96c6\u95f4\u9694"}),(0,n.jsx)(r.td,{children:"\u76d1\u63a7\u5468\u671f\u6027\u91c7\u96c6\u6570\u636e\u95f4\u9694\u65f6\u95f4\uff0c\u5355\u4f4d\u79d2\uff0c\u53ef\u8bbe\u7f6e\u7684\u6700\u5c0f\u95f4\u9694\u4e3a30\u79d2"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u662f\u5426\u63a2\u6d4b"}),(0,n.jsx)(r.td,{children:"\u65b0\u589e\u76d1\u63a7\u524d\u662f\u5426\u5148\u63a2\u6d4b\u68c0\u67e5\u76d1\u63a7\u53ef\u7528\u6027\uff0c\u63a2\u6d4b\u6210\u529f\u624d\u4f1a\u7ee7\u7eed\u65b0\u589e\u4fee\u6539\u64cd\u4f5c"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"\u63cf\u8ff0\u5907\u6ce8"}),(0,n.jsx)(r.td,{children:"\u66f4\u591a\u6807\u8bc6\u548c\u63cf\u8ff0\u6b64\u76d1\u63a7\u7684\u5907\u6ce8\u4fe1\u606f\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u91cc\u5907\u6ce8\u4fe1\u606f"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"\u91c7\u96c6\u6307\u6807",children:"\u91c7\u96c6\u6307\u6807"}),"\n",(0,n.jsx)(r.h4,{id:"\u6307\u6807\u96c6\u5408basic",children:"\u6307\u6807\u96c6\u5408\uff1abasic"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"\u6307\u6807\u540d\u79f0"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5355\u4f4d"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5e2e\u52a9\u63cf\u8ff0"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"machine_name"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"\u8fd0\u884c\u670d\u52a1\u5668\u5b9e\u4f8b\u7684 Windows \u8ba1\u7b97\u673a\u540d\u79f0"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"server_name"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"\u4e0eWindows\u5b9e\u4f8b\u5173\u8054\u7684\u670d\u52a1\u5668\u548c\u5b9e\u4f8b\u4fe1\u606fSQL Server"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"version"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:'\u5b9e\u4f8b\u7684\u7248\u672c\uff0cSQL Server\uff0c\u683c\u5f0f\u4e3a"major.minor.build.revision"'})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"edition"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"\u5df2\u5b89\u88c5\u7684 \u5b9e\u4f8b\u7684\u4ea7\u54c1SQL Server\u7248\u672c"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"start_time"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"\u6570\u636e\u5e93\u542f\u52a8\u65f6\u95f4"})]})]})]}),"\n",(0,n.jsx)(r.h4,{id:"\u6307\u6807\u96c6\u5408performance_counters",children:"\u6307\u6807\u96c6\u5408\uff1aperformance_counters"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"\u6307\u6807\u540d\u79f0"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5355\u4f4d"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5e2e\u52a9\u63cf\u8ff0"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"database_pages"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"Database pages, \u5df2\u83b7\u5f97\u7684\u9875\u9762\u6570(\u7f13\u51b2\u6c60)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"target_pages"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"Target pages, \u7f13\u51b2\u6c60\u5fc5\u987b\u7684\u7406\u60f3\u9875\u9762\u6570"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"page_life_expectancy"}),(0,n.jsx)(r.td,{children:"s,\u79d2"}),(0,n.jsx)(r.td,{children:"Page life expectancy, \u6570\u636e\u9875\u5728\u7f13\u51b2\u6c60\u4e2d\u9a7b\u7559\u7684\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65f6\u95f4\u4e00\u822c\u4f1a\u5927\u4e8e 300"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"buffer_cache_hit_ratio"}),(0,n.jsx)(r.td,{children:"%"}),(0,n.jsx)(r.td,{children:"Buffer cache hit ratio, \u6570\u636e\u5e93\u7f13\u51b2\u6c60\u9ad8\u901f\u7f13\u51b2\u547d\u4e2d\u7387\uff0c\u88ab\u8bf7\u6c42\u7684\u6570\u636e\u5728\u7f13\u51b2\u6c60\u4e2d\u88ab\u627e\u5230\u7684\u6982\u7387\uff0c\u4e00\u822c\u4f1a\u5927\u4e8e 80% \u624d\u7b97\u6b63\u5e38\uff0c\u5426\u5219\u53ef\u80fd\u662f\u7f13\u51b2\u6c60\u5bb9\u91cf\u592a\u5c0f"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"checkpoint_pages_sec"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"Checkpoint pages/sec, \u68c0\u67e5\u70b9\u6bcf\u79d2\u5199\u5165\u78c1\u76d8\u7684\u810f\u9875\u4e2a\u6570\uff0c\u5982\u679c\u6570\u636e\u8fc7\u9ad8\uff0c\u8bc1\u660e\u7f3a\u5c11\u5185\u5b58\u5bb9\u91cf"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"page_reads_sec"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"Page reads/sec, \u7f13\u5b58\u6c60\u4e2d\u6bcf\u79d2\u8bfb\u7684\u9875\u6570"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"page_writes_sec"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"Page writes/sec, \u7f13\u5b58\u6c60\u4e2d\u6bcf\u79d2\u5199\u7684\u9875\u6570"})]})]})]}),"\n",(0,n.jsx)(r.h4,{id:"\u6307\u6807\u96c6\u5408connection",children:"\u6307\u6807\u96c6\u5408\uff1aconnection"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"\u6307\u6807\u540d\u79f0"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5355\u4f4d"}),(0,n.jsx)(r.th,{children:"\u6307\u6807\u5e2e\u52a9\u63cf\u8ff0"})]})}),(0,n.jsx)(r.tbody,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"user_connection"}),(0,n.jsx)(r.td,{children:"\u65e0"}),(0,n.jsx)(r.td,{children:"\u5df2\u8fde\u63a5\u7684\u4f1a\u8bdd\u6570"})]})})]}),"\n",(0,n.jsx)(r.h3,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"SSL\u8fde\u63a5\u95ee\u9898\u4fee\u590d"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"jdk\u7248\u672c\uff1ajdk11\n\u95ee\u9898\u63cf\u8ff0\uff1aSQL Server2019\u4f7f\u7528SA\u7528\u6237\u8fde\u63a5\u62a5\u9519\n\u9519\u8bef\u4fe1\u606f\uff1a"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-text",children:'The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: "PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target". ClientConnectionId:xxxxxxxxxxxxxxxxx\n'})}),"\n",(0,n.jsxs)(r.p,{children:["\u95ee\u9898\u622a\u56fe\uff1a\n",(0,n.jsx)(r.img,{src:"https://user-images.githubusercontent.com/38679717/206621658-c0741d48-673d-45ff-9a3b-47d113064c12.png",alt:"issue"})]}),"\n",(0,n.jsxs)(r.p,{children:["\u89e3\u51b3\u65b9\u6848\uff1a",(0,n.jsx)(r.br,{}),"\n","\u6dfb\u52a0",(0,n.jsx)(r.code,{children:"SqlServer"}),"\u76d1\u63a7\u65f6\u4f7f\u7528\u9ad8\u7ea7\u8bbe\u7f6e\uff0c\u81ea\u5b9a\u4e49JDBC URL\uff0c\u62fc\u63a5\u7684jdbc url\u540e\u9762\u52a0\u4e0a\u53c2\u6570\u914d\u7f6e\uff0c",(0,n.jsx)(r.code,{children:";encrypt=true;trustServerCertificate=true;"}),"\u8fd9\u4e2a\u53c2\u6570true\u8868\u793a\u65e0\u6761\u4ef6\u4fe1\u4efbserver\u7aef\u8fd4\u56de\u7684\u4efb\u4f55\u6839\u8bc1\u4e66\u3002"]}),"\n",(0,n.jsxs)(r.p,{children:["\u6837\u4f8b\uff1a",(0,n.jsx)(r.code,{children:"jdbc:sqlserver://127.0.0.1:1433;DatabaseName=demo;encrypt=true;trustServerCertificate=true;"})]}),"\n",(0,n.jsxs)(r.p,{children:["\u53c2\u8003\u6587\u6863\uff1a",(0,n.jsx)(r.a,{href:"https://techcommunity.microsoft.com/t5/azure-database-support-blog/pkix-path-building-failed-unable-to-find-valid-certification/ba-p/2591304",children:"microsoft pkix-path-building-failed-unable-to-find-valid-certification"})]})]})}function a(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}}}]);