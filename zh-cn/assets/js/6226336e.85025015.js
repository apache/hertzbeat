"use strict";(self.webpackChunkhertzbeat=self.webpackChunkhertzbeat||[]).push([[64866],{15680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>m});var a=r(96540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),g=u(r),m=n,d=g["".concat(s,".").concat(m)]||g[m]||c[m]||i;return r?a.createElement(d,o(o({ref:t},p),{},{components:r})):a.createElement(d,o({ref:t},p))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var u=2;u<i;u++)o[u]=r[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}g.displayName="MDXCreateElement"},93793:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var a=r(58168),n=(r(96540),r(15680));const i={id:"mcp_sse_server",title:"MCP SSE Server",sidebar_label:"MCP SSE Server",keywords:["MCP","SSE","streaming","server"]},o=void 0,l={unversionedId:"help/mcp_sse_server",id:"help/mcp_sse_server",title:"MCP SSE Server",description:"This page explains how connect to the HertzBeat MCP SSE server. The MCP server auto starts on the default port 1157 when you start the HertzBeat server.",source:"@site/docs/help/mcp_sse_server.md",sourceDirName:"help",slug:"/help/mcp_sse_server",permalink:"/zh-cn/docs/help/mcp_sse_server",draft:!1,editUrl:"https://github.com/apache/hertzbeat/edit/master/home/docs/help/mcp_sse_server.md",tags:[],version:"current",frontMatter:{id:"mcp_sse_server",title:"MCP SSE Server",sidebar_label:"MCP SSE Server",keywords:["MCP","SSE","streaming","server"]},sidebar:"docs",previous:{title:"Grafana\u5386\u53f2\u56fe\u8868",permalink:"/zh-cn/docs/help/grafana_dashboard"},next:{title:"Collector",permalink:"/zh-cn/docs/help/collector"}},s={},u=[{value:"Overview",id:"overview",level:3},{value:"Connect to the MCP server",id:"connect-to-the-mcp-server",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Cursor MCP configuration",id:"cursor-mcp-configuration",level:3},{value:"Tools available",id:"tools-available",level:3},{value:"Monitor Management Tools",id:"monitor-management-tools",level:4},{value:"Metrics Data Tools",id:"metrics-data-tools",level:4},{value:"Alert Management Tools",id:"alert-management-tools",level:4},{value:"Alert Rule Definition Tools",id:"alert-rule-definition-tools",level:4},{value:"Notes",id:"notes",level:3}],p={toc:u};function c(e){let{components:t,...r}=e;return(0,n.yg)("wrapper",(0,a.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"This page explains how connect to the HertzBeat MCP SSE server. The MCP server auto starts on the default port 1157 when you start the HertzBeat server."),(0,n.yg)("h3",{id:"overview"},"Overview"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Provides a Server\u2011Sent Events (SSE) stream for tool calling."),(0,n.yg)("li",{parentName:"ul"},"Intended for MCP integrations and clients that consume streaming events.")),(0,n.yg)("h3",{id:"connect-to-the-mcp-server"},"Connect to the MCP server"),(0,n.yg)("p",null,"Make sure that hertzbeat server is up and running. If you are using any other port than 1157, replace the following accordingly"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"URL: ",(0,n.yg)("inlineCode",{parentName:"li"},"http://localhost:1157/api/sse"))),(0,n.yg)("h3",{id:"authentication"},"Authentication"),(0,n.yg)("p",null,"You must authenticate each request using one of the following methods:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"JWT bearer token"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Header: ",(0,n.yg)("inlineCode",{parentName:"li"},"Authorization: Bearer <your-jwt-token>")))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Basic authentication"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Header: ",(0,n.yg)("inlineCode",{parentName:"li"},"Authorization: Basic <base64(username:password)>"))))),(0,n.yg)("h3",{id:"cursor-mcp-configuration"},"Cursor MCP configuration"),(0,n.yg)("p",null,"Create or edit ",(0,n.yg)("inlineCode",{parentName:"p"},".cursor/mcp.json")," in your home directory or project root."),(0,n.yg)("p",null,"Basic auth:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-json"},'{\n      "Hertzbeat-MCP": {\n            "url": "http://localhost:1157/api/sse",\n            "headers": {\n                  "Authorization": "Basic <base64(username:password)>"\n            }\n      }\n}\n')),(0,n.yg)("p",null,"JWT bearer:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-json"},'{\n      "Hertzbeat-MCP": {\n            "url": "http://localhost:1157/api/sse",\n            "headers": {\n                  "Authorization": "Bearer <your-jwt-token>"\n            }\n      }\n}\n')),(0,n.yg)("p",null,"After saving, reload MCP in Cursor or restart the editor."),(0,n.yg)("h3",{id:"tools-available"},"Tools available"),(0,n.yg)("h4",{id:"monitor-management-tools"},"Monitor Management Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"query_monitors"),": Query existing/configured monitors with comprehensive filtering, pagination, and status overview. Supports filtering by IDs, type, status, host, labels, and sorting."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"add_monitor"),": Add a new monitoring target to HertzBeat with comprehensive configuration. Handles different parameter requirements for each monitor type."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"list_monitor_types"),": List all available monitor types that can be added to HertzBeat. Shows all supported monitor types with their display names."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_monitor_additional_params"),": Get the parameter definitions required for a specific monitor type. Shows what parameters are needed when adding a monitor.")),(0,n.yg)("h4",{id:"metrics-data-tools"},"Metrics Data Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"query_realtime_metrics"),": Get real-time metrics data for a specific monitor. Returns current metrics values including CPU, memory, disk usage, etc."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_historical_metrics"),": Get historical metrics data for analysis and trending. Returns time-series data for specified metrics over a time range."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_warehouse_status"),": Check the status of the metrics storage warehouse system. Returns whether the metrics storage is operational and accessible.")),(0,n.yg)("h4",{id:"alert-management-tools"},"Alert Management Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"query_alerts"),": Query alerts with comprehensive filtering and pagination options. Supports filtering by alert type (single/group), status (firing/resolved), search terms, and sorting."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_alerts_summary"),": Get alerts summary statistics including total counts, status distribution, and priority breakdown across all monitors.")),(0,n.yg)("h4",{id:"alert-rule-definition-tools"},"Alert Rule Definition Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"create_alert_rule"),": Create a HertzBeat alert rule based on app hierarchy structure and user requirements. Supports threshold values, field conditions, and comprehensive alert configuration."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"list_alert_rules"),": List existing alert rules with filtering options. Shows configured thresholds and alert definitions with search and pagination."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_alert_rule_details"),": Get detailed information about a specific alert rule. Shows complete threshold configuration and rule settings."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"toggle_alert_rule"),": Enable or disable an alert rule. Allows activating or deactivating threshold monitoring for specific rules."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"get_apps_metrics_hierarchy"),": Get the hierarchical structure of all available apps and their metrics for alert rule creation. Returns structured JSON data with field parameters."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"bind_monitors_to_alert_rule"),": Bind monitors to an alert rule. Associates specific monitors with alert rules to enable monitoring and alerting.")),(0,n.yg)("h3",{id:"notes"},"Notes"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"If the connection drops, reconnect using the same headers.")))}c.isMDXComponent=!0}}]);